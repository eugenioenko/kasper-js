(()=>{"use strict";class e{constructor(e,t,s){this.value=e,this.line=t,this.col=s}toString(){return this.value.toString()}}class t{}class s extends t{constructor(e,t,s,i,r=0){super(),this.type="element",this.name=e,this.attributes=t,this.children=s,this.self=i,this.line=r}accept(e,t){return e.visitElementKNode(this,t)}toString(){return"KNode.Element"}}class i extends t{constructor(e,t,s=0){super(),this.type="attribute",this.name=e,this.value=t,this.line=s}accept(e,t){return e.visitAttributeKNode(this,t)}toString(){return"KNode.Attribute"}}class r extends t{constructor(e,t=0){super(),this.type="text",this.value=e,this.line=t}accept(e,t){return e.visitTextKNode(this,t)}toString(){return"KNode.Text"}}class n extends t{constructor(e,t=0){super(),this.type="comment",this.value=e,this.line=t}accept(e,t){return e.visitCommentKNode(this,t)}toString(){return"KNode.Comment"}}class a extends t{constructor(e,t=0){super(),this.type="doctype",this.value=e,this.line=t}accept(e,t){return e.visitDoctypeKNode(this,t)}toString(){return"KNode.Doctype"}}var h;!function(e){e[e.Eof=0]="Eof",e[e.Panic=1]="Panic",e[e.Ampersand=2]="Ampersand",e[e.AtSign=3]="AtSign",e[e.Caret=4]="Caret",e[e.Comma=5]="Comma",e[e.Dollar=6]="Dollar",e[e.Dot=7]="Dot",e[e.Hash=8]="Hash",e[e.LeftBrace=9]="LeftBrace",e[e.LeftBracket=10]="LeftBracket",e[e.LeftParen=11]="LeftParen",e[e.Percent=12]="Percent",e[e.Pipe=13]="Pipe",e[e.RightBrace=14]="RightBrace",e[e.RightBracket=15]="RightBracket",e[e.RightParen=16]="RightParen",e[e.Semicolon=17]="Semicolon",e[e.Slash=18]="Slash",e[e.Star=19]="Star",e[e.Arrow=20]="Arrow",e[e.Bang=21]="Bang",e[e.BangEqual=22]="BangEqual",e[e.Colon=23]="Colon",e[e.Equal=24]="Equal",e[e.EqualEqual=25]="EqualEqual",e[e.Greater=26]="Greater",e[e.GreaterEqual=27]="GreaterEqual",e[e.Less=28]="Less",e[e.LessEqual=29]="LessEqual",e[e.Minus=30]="Minus",e[e.MinusEqual=31]="MinusEqual",e[e.MinusMinus=32]="MinusMinus",e[e.PercentEqual=33]="PercentEqual",e[e.Plus=34]="Plus",e[e.PlusEqual=35]="PlusEqual",e[e.PlusPlus=36]="PlusPlus",e[e.Question=37]="Question",e[e.QuestionDot=38]="QuestionDot",e[e.QuestionQuestion=39]="QuestionQuestion",e[e.SlashEqual=40]="SlashEqual",e[e.StarEqual=41]="StarEqual",e[e.DotDot=42]="DotDot",e[e.DotDotDot=43]="DotDotDot",e[e.LessEqualGreater=44]="LessEqualGreater",e[e.Identifier=45]="Identifier",e[e.Template=46]="Template",e[e.String=47]="String",e[e.Number=48]="Number",e[e.And=49]="And",e[e.Const=50]="Const",e[e.Debug=51]="Debug",e[e.False=52]="False",e[e.Instanceof=53]="Instanceof",e[e.New=54]="New",e[e.Null=55]="Null",e[e.Undefined=56]="Undefined",e[e.Of=57]="Of",e[e.Or=58]="Or",e[e.True=59]="True",e[e.Typeof=60]="Typeof",e[e.Void=61]="Void",e[e.With=62]="With"}(h||(h={}));class o{constructor(e,t,s,i,r){this.name=h[e],this.type=e,this.lexeme=t,this.literal=s,this.line=i,this.col=r}toString(){return`[(${this.line}):"${this.lexeme}"]`}}const c=[" ","\n","\t","\r"],u=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];class l{parse(t){for(this.current=0,this.line=1,this.col=1,this.source=t,this.errors=[],this.nodes=[];!this.eof();)try{const e=this.node();if(null===e)continue;this.nodes.push(e)}catch(t){if(t instanceof e)this.errors.push(`Parse Error (${t.line}:${t.col}) => ${t.value}`);else if(this.errors.push(`${t}`),this.errors.length>10)return this.errors.push("Parse Error limit exceeded"),this.nodes;break}return this.source="",this.nodes}match(...e){for(const t of e)if(this.check(t))return this.current+=t.length,!0;return!1}advance(e=""){this.eof()?this.error(`Unexpected end of file. ${e}`):(this.check("\n")&&(this.line+=1,this.col=0),this.col+=1,this.current++)}peek(...e){for(const t of e)if(this.check(t))return!0;return!1}check(e){return this.source.slice(this.current,this.current+e.length)===e}eof(){return this.current>this.source.length}error(t){throw new e(t,this.line,this.col)}node(){let e;return this.whitespace(),this.match("</")&&this.error("Unexpected closing tag"),e=this.match("\x3c!--")?this.comment():this.match("<!doctype")||this.match("<!DOCTYPE")?this.doctype():this.match("<")?this.element():this.text(),this.whitespace(),e}comment(){const e=this.current;do{this.advance("Expected comment closing '--\x3e'")}while(!this.match("--\x3e"));const t=this.source.slice(e,this.current-3);return new n(t,this.line)}doctype(){const e=this.current;do{this.advance("Expected closing doctype")}while(!this.match(">"));const t=this.source.slice(e,this.current-1).trim();return new a(t,this.line)}element(){const e=this.line,t=this.identifier("/",">");t||this.error("Expected a tag name");const i=this.attributes();if(this.match("/>")||u.includes(t)&&this.match(">"))return new s(t,i,[],!0,this.line);this.match(">")||this.error("Expected closing tag");let r=[];return this.whitespace(),this.peek("</")||(r=this.children(t)),this.close(t),new s(t,i,r,!1,e)}close(e){this.match("</")||this.error(`Expected </${e}>`),this.match(`${e}`)||this.error(`Expected </${e}>`),this.whitespace(),this.match(">")||this.error(`Expected </${e}>`)}children(e){const t=[];do{this.eof()&&this.error(`Expected </${e}>`);const s=this.node();null!==s&&t.push(s)}while(!this.peek("</"));return t}attributes(){const e=[];for(;!this.peek(">","/>")&&!this.eof();){this.whitespace();const t=this.line,s=this.identifier("=",">","/>");s||this.error("Blank attribute name"),this.whitespace();let r="";this.match("=")&&(this.whitespace(),r=this.match("'")?this.string("'"):this.match('"')?this.string('"'):this.identifier(">","/>")),this.whitespace(),e.push(new i(s,r,t))}return e}text(){const e=this.current,t=this.line;for(;!this.peek("<")&&!this.eof();)this.advance();const s=this.source.slice(e,this.current).trim();return s?new r(s,t):null}whitespace(){let e=0;for(;this.peek(...c)&&!this.eof();)e+=1,this.advance();return e}identifier(...e){this.whitespace();const t=this.current;for(;!this.peek(...c,...e);)this.advance(`Expected closing ${e}`);const s=this.current;return this.whitespace(),this.source.slice(t,s).trim()}string(e){const t=this.current;for(;!this.match(e);)this.advance(`Expected closing ${e}`);return this.source.slice(t,this.current-1)}}class p{constructor(){}}class d extends p{constructor(e,t,s){super(),this.name=e,this.value=t,this.line=s}accept(e){return e.visitAssignExpr(this)}toString(){return"Expr.Assign"}}class m extends p{constructor(e,t,s,i){super(),this.left=e,this.operator=t,this.right=s,this.line=i}accept(e){return e.visitBinaryExpr(this)}toString(){return"Expr.Binary"}}class f extends p{constructor(e,t,s,i){super(),this.callee=e,this.paren=t,this.args=s,this.line=i}accept(e){return e.visitCallExpr(this)}toString(){return"Expr.Call"}}class v extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitDebugExpr(this)}toString(){return"Expr.Debug"}}class x extends p{constructor(e,t){super(),this.properties=e,this.line=t}accept(e){return e.visitDictionaryExpr(this)}toString(){return"Expr.Dictionary"}}class g extends p{constructor(e,t,s,i){super(),this.name=e,this.key=t,this.iterable=s,this.line=i}accept(e){return e.visitEachExpr(this)}toString(){return"Expr.Each"}}class E extends p{constructor(e,t,s,i){super(),this.entity=e,this.key=t,this.type=s,this.line=i}accept(e){return e.visitGetExpr(this)}toString(){return"Expr.Get"}}class k extends p{constructor(e,t){super(),this.expression=e,this.line=t}accept(e){return e.visitGroupingExpr(this)}toString(){return"Expr.Grouping"}}class w extends p{constructor(e,t){super(),this.name=e,this.line=t}accept(e){return e.visitKeyExpr(this)}toString(){return"Expr.Key"}}class y extends p{constructor(e,t,s,i){super(),this.left=e,this.operator=t,this.right=s,this.line=i}accept(e){return e.visitLogicalExpr(this)}toString(){return"Expr.Logical"}}class b extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitListExpr(this)}toString(){return"Expr.List"}}class S extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitLiteralExpr(this)}toString(){return"Expr.Literal"}}class P extends p{constructor(e,t){super(),this.clazz=e,this.line=t}accept(e){return e.visitNewExpr(this)}toString(){return"Expr.New"}}class T extends p{constructor(e,t,s){super(),this.left=e,this.right=t,this.line=s}accept(e){return e.visitNullCoalescingExpr(this)}toString(){return"Expr.NullCoalescing"}}class q extends p{constructor(e,t,s){super(),this.name=e,this.increment=t,this.line=s}accept(e){return e.visitPostfixExpr(this)}toString(){return"Expr.Postfix"}}class $ extends p{constructor(e,t,s,i){super(),this.entity=e,this.key=t,this.value=s,this.line=i}accept(e){return e.visitSetExpr(this)}toString(){return"Expr.Set"}}class N extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitTemplateExpr(this)}toString(){return"Expr.Template"}}class D extends p{constructor(e,t,s,i){super(),this.condition=e,this.thenExpr=t,this.elseExpr=s,this.line=i}accept(e){return e.visitTernaryExpr(this)}toString(){return"Expr.Ternary"}}class A extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitTypeofExpr(this)}toString(){return"Expr.Typeof"}}class C extends p{constructor(e,t,s){super(),this.operator=e,this.right=t,this.line=s}accept(e){return e.visitUnaryExpr(this)}toString(){return"Expr.Unary"}}class L extends p{constructor(e,t){super(),this.name=e,this.line=t}accept(e){return e.visitVariableExpr(this)}toString(){return"Expr.Variable"}}class B extends p{constructor(e,t){super(),this.value=e,this.line=t}accept(e){return e.visitVoidExpr(this)}toString(){return"Expr.Void"}}class M{constructor(){this.errorLevel=1}parse(t){this.current=0,this.tokens=t,this.errors=[];const s=[];for(;!this.eof();)try{s.push(this.expression())}catch(t){if(t instanceof e)this.errors.push(`Parse Error (${t.line}:${t.col}) => ${t.value}`);else if(this.errors.push(`${t}`),this.errors.length>100)return this.errors.push("Parse Error limit exceeded"),s;this.synchronize()}return s}match(...e){for(const t of e)if(this.check(t))return this.advance(),!0;return!1}advance(){return this.eof()||this.current++,this.previous()}peek(){return this.tokens[this.current]}previous(){return this.tokens[this.current-1]}check(e){return this.peek().type===e}eof(){return this.check(h.Eof)}consume(e,t){return this.check(e)?this.advance():this.error(this.peek(),t+`, unexpected token "${this.peek().lexeme}"`)}error(t,s){throw new e(s,t.line,t.col)}synchronize(){do{if(this.check(h.Semicolon)||this.check(h.RightBrace))return void this.advance();this.advance()}while(!this.eof())}foreach(e){this.current=0,this.tokens=e,this.errors=[],this.consume(h.Const,'Expected const definition starting "each" statement');const t=this.consume(h.Identifier,'Expected an identifier inside "each" statement');let s=null;this.match(h.With)&&(s=this.consume(h.Identifier,'Expected a "key" identifier after "with" keyword in foreach statement')),this.consume(h.Of,'Expected "of" keyword inside foreach statement');const i=this.expression();return new g(t,s,i,t.line)}expression(){const e=this.assignment();if(this.match(h.Semicolon))for(;this.match(h.Semicolon););return e}assignment(){const e=this.ternary();if(this.match(h.Equal,h.PlusEqual,h.MinusEqual,h.StarEqual,h.SlashEqual)){const t=this.previous();let s=this.assignment();if(e instanceof L){const i=e.name;return t.type!==h.Equal&&(s=new m(new L(i,i.line),t,s,t.line)),new d(i,s,i.line)}if(e instanceof E)return t.type!==h.Equal&&(s=new m(new E(e.entity,e.key,e.type,e.line),t,s,t.line)),new $(e.entity,e.key,s,e.line);this.error(t,"Invalid l-value, is not an assigning target.")}return e}ternary(){const e=this.nullCoalescing();if(this.match(h.Question)){const t=this.ternary();this.consume(h.Colon,'Expected ":" after ternary ? expression');const s=this.ternary();return new D(e,t,s,e.line)}return e}nullCoalescing(){const e=this.logicalOr();if(this.match(h.QuestionQuestion)){const t=this.nullCoalescing();return new T(e,t,e.line)}return e}logicalOr(){let e=this.logicalAnd();for(;this.match(h.Or);){const t=this.previous(),s=this.logicalAnd();e=new y(e,t,s,t.line)}return e}logicalAnd(){let e=this.equality();for(;this.match(h.And);){const t=this.previous(),s=this.equality();e=new y(e,t,s,t.line)}return e}equality(){let e=this.addition();for(;this.match(h.BangEqual,h.EqualEqual,h.Greater,h.GreaterEqual,h.Less,h.LessEqual);){const t=this.previous(),s=this.addition();e=new m(e,t,s,t.line)}return e}addition(){let e=this.modulus();for(;this.match(h.Minus,h.Plus);){const t=this.previous(),s=this.modulus();e=new m(e,t,s,t.line)}return e}modulus(){let e=this.multiplication();for(;this.match(h.Percent);){const t=this.previous(),s=this.multiplication();e=new m(e,t,s,t.line)}return e}multiplication(){let e=this.typeof();for(;this.match(h.Slash,h.Star);){const t=this.previous(),s=this.typeof();e=new m(e,t,s,t.line)}return e}typeof(){if(this.match(h.Typeof)){const e=this.previous(),t=this.typeof();return new A(t,e.line)}return this.unary()}unary(){if(this.match(h.Minus,h.Bang,h.Dollar,h.PlusPlus,h.MinusMinus)){const e=this.previous(),t=this.unary();return new C(e,t,e.line)}return this.newKeyword()}newKeyword(){if(this.match(h.New)){const e=this.previous(),t=this.call();return new P(t,e.line)}return this.call()}call(){let e=this.primary(),t=!0;do{if(t=!1,this.match(h.LeftParen)){t=!0;do{const t=[];if(!this.check(h.RightParen))do{t.push(this.expression())}while(this.match(h.Comma));const s=this.consume(h.RightParen,'Expected ")" after arguments');e=new f(e,s,t,s.line)}while(this.match(h.LeftParen))}this.match(h.Dot,h.QuestionDot)&&(t=!0,e=this.dotGet(e,this.previous())),this.match(h.LeftBracket)&&(t=!0,e=this.bracketGet(e,this.previous()))}while(t);return e}dotGet(e,t){const s=this.consume(h.Identifier,"Expect property name after '.'"),i=new w(s,s.line);return new E(e,i,t.type,s.line)}bracketGet(e,t){let s=null;return this.check(h.RightBracket)||(s=this.expression()),this.consume(h.RightBracket,'Expected "]" after an index'),new E(e,s,t.type,t.line)}primary(){if(this.match(h.False))return new S(!1,this.previous().line);if(this.match(h.True))return new S(!0,this.previous().line);if(this.match(h.Null))return new S(null,this.previous().line);if(this.match(h.Undefined))return new S(void 0,this.previous().line);if(this.match(h.Number)||this.match(h.String))return new S(this.previous().literal,this.previous().line);if(this.match(h.Template))return new N(this.previous().literal,this.previous().line);if(this.match(h.Identifier)){const e=this.previous();return this.match(h.PlusPlus)?new q(e,1,e.line):this.match(h.MinusMinus)?new q(e,-1,e.line):new L(e,e.line)}if(this.match(h.LeftParen)){const e=this.expression();return this.consume(h.RightParen,'Expected ")" after expression'),new k(e,e.line)}if(this.match(h.LeftBrace))return this.dictionary();if(this.match(h.LeftBracket))return this.list();if(this.match(h.Void)){const e=this.expression();return new B(e,this.previous().line)}if(this.match(h.Debug)){const e=this.expression();return new v(e,this.previous().line)}throw this.error(this.peek(),`Expected expression, unexpected token "${this.peek().lexeme}"`)}dictionary(){const e=this.previous();if(this.match(h.RightBrace))return new x([],this.previous().line);const t=[];do{if(this.match(h.String,h.Identifier,h.Number)){const e=this.previous();if(this.match(h.Colon)){const s=this.expression();t.push(new $(null,new w(e,e.line),s,e.line))}else{const s=new L(e,e.line);t.push(new $(null,new w(e,e.line),s,e.line))}}else this.error(this.peek(),`String, Number or Identifier expected as a Key of Dictionary {, unexpected token ${this.peek().lexeme}`)}while(this.match(h.Comma));return this.consume(h.RightBrace,'Expected "}" after object literal'),new x(t,e.line)}list(){const e=[],t=this.previous();if(this.match(h.RightBracket))return new b([],this.previous().line);do{e.push(this.expression())}while(this.match(h.Comma));return this.consume(h.RightBracket,'Expected "]" after array declaration'),new b(e,t.line)}}function K(e){return e>="0"&&e<="9"}function G(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}class R{scan(e){for(this.source=e,this.tokens=[],this.errors=[],this.current=0,this.start=0,this.line=1,this.col=1;!this.eof();){this.start=this.current;try{this.getToken()}catch(e){if(this.errors.push(`${e}`),this.errors.length>100)return this.errors.push("Error limit exceeded"),this.tokens}}return this.tokens.push(new o(h.Eof,"",null,this.line,0)),this.tokens}eof(){return this.current>=this.source.length}advance(){return"\n"===this.peek()&&(this.line++,this.col=0),this.current++,this.col++,this.source.charAt(this.current-1)}addToken(e,t){const s=this.source.substring(this.start,this.current);this.tokens.push(new o(e,s,t,this.line,this.col))}match(e){return!this.eof()&&this.source.charAt(this.current)===e&&(this.current++,!0)}peek(){return this.eof()?"\0":this.source.charAt(this.current)}peekNext(){return this.current+1>=this.source.length?"\0":this.source.charAt(this.current+1)}comment(){for(;"\n"!==this.peek()&&!this.eof();)this.advance()}multilineComment(){for(;!this.eof()&&("*"!==this.peek()||"/"!==this.peekNext());)this.advance();this.eof()?this.error('Unterminated comment, expecting closing "*/"'):(this.advance(),this.advance())}string(e){for(;this.peek()!==e&&!this.eof();)this.advance();if(this.eof())return void this.error(`Unterminated string, expecting closing ${e}`);this.advance();const t=this.source.substring(this.start+1,this.current-1);this.addToken("`"!==e?h.String:h.Template,t)}number(){for(;K(this.peek());)this.advance();for("."===this.peek()&&K(this.peekNext())&&this.advance();K(this.peek());)this.advance();for("e"===this.peek().toLowerCase()&&(this.advance(),"-"!==this.peek()&&"+"!==this.peek()||this.advance());K(this.peek());)this.advance();const e=this.source.substring(this.start,this.current);this.addToken(h.Number,Number(e))}identifier(){for(;G(e=this.peek())||K(e);)this.advance();var e;const t=this.source.substring(this.start,this.current),s=(i=t).charAt(0).toUpperCase()+i.substring(1).toLowerCase();var i;!function(e){return h[e]>=h.And}(s)?this.addToken(h.Identifier,t):this.addToken(h[s],t)}getToken(){const e=this.advance();switch(e){case"(":this.addToken(h.LeftParen,null);break;case")":this.addToken(h.RightParen,null);break;case"[":this.addToken(h.LeftBracket,null);break;case"]":this.addToken(h.RightBracket,null);break;case"{":this.addToken(h.LeftBrace,null);break;case"}":this.addToken(h.RightBrace,null);break;case",":this.addToken(h.Comma,null);break;case";":this.addToken(h.Semicolon,null);break;case"^":this.addToken(h.Caret,null);break;case"$":this.addToken(h.Dollar,null);break;case"#":this.addToken(h.Hash,null);break;case":":this.addToken(this.match("=")?h.Arrow:h.Colon,null);break;case"*":this.addToken(this.match("=")?h.StarEqual:h.Star,null);break;case"%":this.addToken(this.match("=")?h.PercentEqual:h.Percent,null);break;case"|":this.addToken(this.match("|")?h.Or:h.Pipe,null);break;case"&":this.addToken(this.match("&")?h.And:h.Ampersand,null);break;case">":this.addToken(this.match("=")?h.GreaterEqual:h.Greater,null);break;case"!":this.addToken(this.match("=")?h.BangEqual:h.Bang,null);break;case"?":this.addToken(this.match("?")?h.QuestionQuestion:this.match(".")?h.QuestionDot:h.Question,null);break;case"=":this.addToken(this.match("=")?h.EqualEqual:this.match(">")?h.Arrow:h.Equal,null);break;case"+":this.addToken(this.match("+")?h.PlusPlus:this.match("=")?h.PlusEqual:h.Plus,null);break;case"-":this.addToken(this.match("-")?h.MinusMinus:this.match("=")?h.MinusEqual:h.Minus,null);break;case"<":this.addToken(this.match("=")?this.match(">")?h.LessEqualGreater:h.LessEqual:h.Less,null);break;case".":this.match(".")?this.match(".")?this.addToken(h.DotDotDot,null):this.addToken(h.DotDot,null):this.addToken(h.Dot,null);break;case"/":this.match("/")?this.comment():this.match("*")?this.multilineComment():this.addToken(this.match("=")?h.SlashEqual:h.Slash,null);break;case"'":case'"':case"`":this.string(e);break;case"\n":case" ":case"\r":case"\t":break;default:K(e)?this.number():G(e)?this.identifier():this.error(`Unexpected character '${e}'`)}}error(e){throw new Error(`Scan Error (${this.line}:${this.col}) => ${e}`)}}class I{constructor(e,t){this.parent=e||null,this.init(t)}init(e){this.values=e?new Map(Object.entries(e)):new Map}set(e,t){this.values.set(e,t)}get(e){return this.values.has(e)?this.values.get(e):null!==this.parent?this.parent.get(e):window[e]}}class Q{constructor(){this.scope=new I,this.errors=[],this.scanner=new R,this.parser=new M}evaluate(e){return e.result=e.accept(this)}error(e){throw new Error(`Runtime Error => ${e}`)}visitVariableExpr(e){return this.scope.get(e.name.lexeme)}visitAssignExpr(e){const t=this.evaluate(e.value);return this.scope.set(e.name.lexeme,t),t}visitKeyExpr(e){return e.name.literal}visitGetExpr(e){const t=this.evaluate(e.entity),s=this.evaluate(e.key);if(t||e.type!==h.QuestionDot)return t[s]}visitSetExpr(e){const t=this.evaluate(e.entity),s=this.evaluate(e.key),i=this.evaluate(e.value);return t[s]=i,i}visitPostfixExpr(e){const t=this.scope.get(e.name.lexeme),s=t+e.increment;return this.scope.set(e.name.lexeme,s),t}visitListExpr(e){const t=[];for(const s of e.value){const e=this.evaluate(s);t.push(e)}return t}templateParse(e){const t=this.scanner.scan(e),s=this.parser.parse(t);this.parser.errors.length&&this.error(`Template string  error: ${this.parser.errors[0]}`);let i="";for(const e of s)i+=this.evaluate(e).toString();return i}visitTemplateExpr(e){return e.value.replace(/\{\{([\s\S]+?)\}\}/g,((e,t)=>this.templateParse(t)))}visitBinaryExpr(e){const t=this.evaluate(e.left),s=this.evaluate(e.right);switch(e.operator.type){case h.Minus:case h.MinusEqual:return t-s;case h.Slash:case h.SlashEqual:return t/s;case h.Star:case h.StarEqual:return t*s;case h.Percent:case h.PercentEqual:return t%s;case h.Plus:case h.PlusEqual:return t+s;case h.Pipe:return t|s;case h.Caret:return t^s;case h.Greater:return t>s;case h.GreaterEqual:return t>=s;case h.Less:return t<s;case h.LessEqual:return t<=s;case h.EqualEqual:return t===s;case h.BangEqual:return t!==s;default:return this.error("Unknown binary operator "+e.operator),null}}visitLogicalExpr(e){const t=this.evaluate(e.left);if(e.operator.type===h.Or){if(t)return t}else if(!t)return t;return this.evaluate(e.right)}visitTernaryExpr(e){return this.evaluate(e.condition).isTruthy()?this.evaluate(e.thenExpr):this.evaluate(e.elseExpr)}visitNullCoalescingExpr(e){return this.evaluate(e.left)||this.evaluate(e.right)}visitGroupingExpr(e){return this.evaluate(e.expression)}visitLiteralExpr(e){return e.value}visitUnaryExpr(e){const t=this.evaluate(e.right);switch(e.operator.type){case h.Minus:return-t;case h.Bang:return!t;case h.PlusPlus:case h.MinusMinus:const s=Number(t)+(e.operator.type===h.PlusPlus?1:-1);if(e.right instanceof L)this.scope.set(e.right.name.lexeme,s);else if(e.right instanceof E){const t=new $(e.right.entity,e.right.key,new S(s,e.line),e.line);this.evaluate(t)}else this.error(`Invalid right-hand side expression in prefix operation:  ${e.right}`);return s;default:return this.error("Unknown unary operator ' + expr.operator"),null}}visitCallExpr(e){const t=this.evaluate(e.callee);"function"!=typeof t&&this.error(`${t} is not a function`);const s=[];for(const t of e.args)s.push(this.evaluate(t));return e.callee instanceof E&&(e.callee.entity instanceof L||e.callee.entity instanceof k)?t.apply(e.callee.entity.result,s):t(...s)}visitNewExpr(e){const t=e.clazz,s=this.evaluate(t.callee);"function"!=typeof s&&this.error(`'${s}' is not a class. 'new' statement must be used with classes.`);const i=[];for(const e of t.args)i.push(this.evaluate(e));return new s(...i)}visitDictionaryExpr(e){const t={};for(const s of e.properties){const e=this.evaluate(s.key),i=this.evaluate(s.value);t[e]=i}return t}visitTypeofExpr(e){return typeof this.evaluate(e.value)}visitEachExpr(e){return[e.name.lexeme,e.key?e.key.lexeme:null,this.evaluate(e.iterable)]}visitVoidExpr(e){return this.evaluate(e.value),""}visitDebugExpr(e){const t=this.evaluate(e.value);return console.log(t),""}}class O{constructor(){this.scanner=new R,this.parser=new M,this.interpreter=new Q,this.errors=[]}evaluate(e,t){e.accept(this,t)}execute(e){const t=this.scanner.scan(e),s=this.parser.parse(t).map((e=>this.interpreter.evaluate(e)));return s&&s.length?s[0]:void 0}transpile(e,t){const s=document.createElement("kasper");this.interpreter.scope.init(t),this.errors=[];try{this.createSiblings(e,s)}catch(e){console.error(`${e}`)}return s}visitElementKNode(e,t){this.createElement(e,t)}visitTextKNode(e,t){let s;if(/\{\{.+\}\}/ms.test(e.value)){const t=e.value.replace(/\{\{([\s\S]+?)\}\}/g,((e,t)=>this.templateParse(t)));s=document.createTextNode(t)}else s=document.createTextNode(e.value);t&&t.appendChild(s)}visitAttributeKNode(e,t){const s=document.createAttribute(e.name);e.value&&(s.value=e.value),t&&t.setAttributeNode(s)}visitCommentKNode(e,t){const s=new Comment(e.value);t&&t.appendChild(s)}findAttr(e,t){if(!e||!e.attributes||!e.attributes.length)return null;return e.attributes.find((e=>t.includes(e.name)))||null}doIf(e,t){if(this.execute(e[0][1].value))this.createElement(e[0][0],t);else for(const s of e.slice(1,e.length))if(this.findAttr(s[0],["@elseif"])){if(this.execute(s[1].value))return void this.createElement(s[0],t)}else if(this.findAttr(s[0],["@else"]))return void this.createElement(s[0],t)}doEach(e,t,s){const i=this.scanner.scan(e.value),[r,n,a]=this.interpreter.evaluate(this.parser.foreach(i)),h=this.interpreter.scope;let o=0;for(const e of a){const i={[r]:e};n&&(i[n]=o),this.interpreter.scope=new I(h,i),this.createElement(t,s),o+=1}this.interpreter.scope=h}doWhile(e,t,s){const i=this.interpreter.scope;for(this.interpreter.scope=new I(i);this.execute(e.value);)this.createElement(t,s);this.interpreter.scope=i}doInit(e,t,s){const i=this.interpreter.scope;this.interpreter.scope=new I(i),this.execute(e.value),this.createElement(t,s),this.interpreter.scope=i}createSiblings(e,t){let s=0;for(;s<e.length;){const i=e[s++];if("element"===i.type){const r=this.findAttr(i,["@each"]);if(r){this.doEach(r,i,t);continue}const n=this.findAttr(i,["@if"]);if(n){const r=[[i,n]],a=i.name;let h=!0;for(;h&&!(s>=e.length);){const t=this.findAttr(e[s],["@else","@elseif"]);e[s].name===a&&t?(r.push([e[s],t]),s+=1):h=!1}this.doIf(r,t);continue}const a=this.findAttr(i,["@while"]);if(a){this.doWhile(a,i,t);continue}const h=this.findAttr(i,["@init"]);if(h){this.doInit(h,i,t);continue}}this.evaluate(i,t)}}createElement(e,t){const s="kvoid"===e.name,i=s?t:document.createElement(e.name);if(!s){const t=e.attributes.filter((e=>e.name.startsWith("@on:")));for(const e of t)this.createEventListener(i,e);e.attributes.filter((e=>!e.name.startsWith("@"))).map((e=>this.evaluate(e,i)))}e.self||(this.createSiblings(e.children,i),!s&&t&&t.appendChild(i))}createEventListener(e,t){const s=t.name.split(":")[1];e.addEventListener(s,(()=>{this.execute(t.value)}))}templateParse(e){const t=this.scanner.scan(e),s=this.parser.parse(t);this.parser.errors.length&&this.error(`Template string  error: ${this.parser.errors[0]}`);let i="";for(const e of s)i+=`${this.interpreter.evaluate(e)}`;return i}visitDoctypeKNode(e){}error(e){throw new Error(`Runtime Error => ${e}`)}}"undefined"!=typeof window?(window||{}).kasper={demoJson:'\n{\n  "person": {\n    "name": "John Doe",\n    "profession": "Software Developer",\n    "age": 20,\n    "hobbies": ["reading", "music", "golf"]\n  }\n}\n',demoSourceCode:'\n\x3c!-- accessing scope elements --\x3e\n<h3>{{person.name}}</h3>\n<h4>{{person.profession}}</h4>\n\n\x3c!-- conditional element creation --\x3e\n<p @if="person.age > 21">Age is greater than 21</p>\n<p @elseif="person.age == 21">Age is equal to 21</p>\n<p @elseif="person.age < 21">Age is less than 21</p>\n<p @else>Age is impossible</p>\n\n\x3c!-- iterating over arrays --\x3e\n<h4>Hobbies ({{person.hobbies.length}}):</h4>\n<ul class="list-disc">\n  <li @each="const hobby with index of person.hobbies" class="text-red">\n    {{index + 1}}: {{hobby}}\n  </li>\n</ul>\n\n\x3c!-- event binding --\x3e\n<div class="my-4">\n  <button\n    class="bg-blue-500 rounded px-4 py-2 text-white hover:bg-blue-700"\n    @on:click="alert(\'Hello World\'); console.log(100 / 2.5 + 15)"\n  >\n    CLICK ME\n  </button>\n</div>\n\n\x3c!-- evaluating code on element creation --\x3e\n<div @init="student = {name: person.name, degree: \'Masters\'}; console.log(student.name)">\n    {{student.name}}\n</div>\n\n\x3c!-- foreach loop with objects --\x3e\n<span @each="const item of Object.entries({a: 1, b: 2, c: 3 })">\n  {{item[0]}}:{{item[1]}},\n</span>\n\n\x3c!-- while loop --\x3e\n<span @init="index = 0">\n   <span @while="index < 3">\n     {{index = index + 1}},\n   </span>\n</span>\n\n\x3c!-- void elements --\x3e\n<div>\n  <kvoid @init="index = 0">\n    <kvoid @while="index < 3">\n      {{index = index + 1}}\n    </kvoid>\n  </kvoid>\n</div>\n\n\x3c!-- complex expressions --\x3e\n{{Math.floor(Math.sqrt(100 + 20 / (10 * (Math.abs(10 -20)) + 4)))}}\n\n\x3c!-- void expression --\x3e\n{{void "this won\'t be shown"}}\n\n\x3c!-- logging / debugging  --\x3e\n{{debug "expression"}}\n{{void console.log("same as previous just less wordy")}}\n\n',execute:function(e){const t=new l,s=t.parse(e);return t.errors.length?JSON.stringify(t.errors):JSON.stringify(s)},transpile:function(e,t){const s=(new l).parse(e);return(new O).transpile(s,t)}}:"undefined"!=typeof exports&&(exports.kasper={ExpressionParser:M,Interpreter:Q,Scanner:R,TemplateParser:l,Transpiler:O,Viewer:class{constructor(){this.errors=[]}evaluate(e){return e.accept(this)}transpile(e){this.errors=[];const t=[];for(const s of e)try{t.push(this.evaluate(s))}catch(e){if(console.error(`${e}`),this.errors.push(`${e}`),this.errors.length>100)return this.errors.push("Error limit exceeded"),t}return t}visitElementKNode(e){let t=e.attributes.map((e=>this.evaluate(e))).join(" ");if(t.length&&(t=" "+t),e.self)return`<${e.name}${t}/>`;const s=e.children.map((e=>this.evaluate(e))).join("");return`<${e.name}${t}>${s}</${e.name}>`}visitAttributeKNode(e){return e.value?`${e.name}="${e.value}"`:e.name}visitTextKNode(e){return e.value}visitCommentKNode(e){return`\x3c!-- ${e.value} --\x3e`}visitDoctypeKNode(e){return`<!doctype ${e.value}>`}error(e){throw new Error(`Runtime Error => ${e}`)}}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sR0FBR1IsS0FDakJwQyxLQUFLK0IsT0FBT0ksS0FBSyxHQUFHQyxLQUNoQnBDLEtBQUsrQixPQUFPTSxPQUFTLElBRXZCLE9BREFyQyxLQUFLK0IsT0FBT0ksS0FBSyx3QkFDVnFOLENBRVgsQ0FFRixPQUFPQSxDQUNULENBRU8saUJBQUEzTyxDQUFrQnFCLEdBQ3ZCLElBQUlxUixFQUFRclIsRUFBSzdCLFdBQVdzUSxLQUFLUyxHQUFTcFIsS0FBS3VQLFNBQVM2QixLQUFPb0MsS0FBSyxLQUtwRSxHQUpJRCxFQUFNbFIsU0FDUmtSLEVBQVEsSUFBTUEsR0FHWnJSLEVBQUszQixLQUNQLE1BQU8sSUFBSTJCLEVBQUs5QixPQUFPbVQsTUFHekIsTUFBTWpULEVBQVc0QixFQUFLNUIsU0FBU3FRLEtBQUs4QyxHQUFRelQsS0FBS3VQLFNBQVNrRSxLQUFNRCxLQUFLLElBQ3JFLE1BQU8sSUFBSXRSLEVBQUs5QixPQUFPbVQsS0FBU2pULE1BQWE0QixFQUFLOUIsT0FDcEQsQ0FFTyxtQkFBQVcsQ0FBb0JtQixHQUN6QixPQUFJQSxFQUFLckMsTUFDQSxHQUFHcUMsRUFBSzlCLFNBQVM4QixFQUFLckMsU0FFeEJxQyxFQUFLOUIsSUFDZCxDQUVPLGNBQUFhLENBQWVpQixHQUNwQixPQUFPQSxFQUFLckMsS0FDZCxDQUVPLGlCQUFBcUIsQ0FBa0JnQixHQUN2QixNQUFPLFdBQVFBLEVBQUtyQyxjQUN0QixDQUVPLGlCQUFBdUIsQ0FBa0JjLEdBQ3ZCLE1BQU8sYUFBYUEsRUFBS3JDLFFBQzNCLENBRU8sS0FBQStDLENBQU1HLEdBQ1gsTUFBTSxJQUFJMEwsTUFBTSxvQkFBb0IxTCxJQUN0QyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL3R5cGVzL2Vycm9yLnRzIiwid2VicGFjazovL2thc3Blci1qcy8uL3NyYy90eXBlcy9ub2Rlcy50cyIsIndlYnBhY2s6Ly9rYXNwZXItanMvLi9zcmMvdHlwZXMvdG9rZW4udHMiLCJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL3RlbXBsYXRlLXBhcnNlci50cyIsIndlYnBhY2s6Ly9rYXNwZXItanMvLi9zcmMvdHlwZXMvZXhwcmVzc2lvbnMudHMiLCJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL2V4cHJlc3Npb24tcGFyc2VyLnRzIiwid2VicGFjazovL2thc3Blci1qcy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly9rYXNwZXItanMvLi9zcmMvc2Nhbm5lci50cyIsIndlYnBhY2s6Ly9rYXNwZXItanMvLi9zcmMvc2NvcGUudHMiLCJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL2ludGVycHJldGVyLnRzIiwid2VicGFjazovL2thc3Blci1qcy8uL3NyYy90cmFuc3BpbGVyLnRzIiwid2VicGFjazovL2thc3Blci1qcy8uL3NyYy9rYXNwZXIudHMiLCJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL3R5cGVzL2RlbW8udHMiLCJ3ZWJwYWNrOi8va2FzcGVyLWpzLy4vc3JjL3ZpZXdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgS2FzcGVyRXJyb3Ige1xuICBwdWJsaWMgdmFsdWU6IHN0cmluZztcbiAgcHVibGljIGxpbmU6IG51bWJlcjtcbiAgcHVibGljIGNvbDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcsIGxpbmU6IG51bWJlciwgY29sOiBudW1iZXIpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB0aGlzLmNvbCA9IGNvbDtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBLTm9kZSB7XG4gICAgcHVibGljIGxpbmU6IG51bWJlcjtcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuICAgIHB1YmxpYyBhYnN0cmFjdCBhY2NlcHQ8Uj4odmlzaXRvcjogS05vZGVWaXNpdG9yPFI+LCBwYXJlbnQ/OiBOb2RlKTogUjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBLTm9kZVZpc2l0b3I8Uj4ge1xuICAgIHZpc2l0RWxlbWVudEtOb2RlKGtub2RlOiBFbGVtZW50LCBwYXJlbnQ/OiBOb2RlKTogUjtcbiAgICB2aXNpdEF0dHJpYnV0ZUtOb2RlKGtub2RlOiBBdHRyaWJ1dGUsIHBhcmVudD86IE5vZGUpOiBSO1xuICAgIHZpc2l0VGV4dEtOb2RlKGtub2RlOiBUZXh0LCBwYXJlbnQ/OiBOb2RlKTogUjtcbiAgICB2aXNpdENvbW1lbnRLTm9kZShrbm9kZTogQ29tbWVudCwgcGFyZW50PzogTm9kZSk6IFI7XG4gICAgdmlzaXREb2N0eXBlS05vZGUoa25vZGU6IERvY3R5cGUsIHBhcmVudD86IE5vZGUpOiBSO1xufVxuXG5leHBvcnQgY2xhc3MgRWxlbWVudCBleHRlbmRzIEtOb2RlIHtcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICAgIHB1YmxpYyBhdHRyaWJ1dGVzOiBLTm9kZVtdO1xuICAgIHB1YmxpYyBjaGlsZHJlbjogS05vZGVbXTtcbiAgICBwdWJsaWMgc2VsZjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYXR0cmlidXRlczogS05vZGVbXSwgY2hpbGRyZW46IEtOb2RlW10sIHNlbGY6IGJvb2xlYW4sIGxpbmU6IG51bWJlciA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2VsZW1lbnQnO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMuc2VsZiA9IHNlbGY7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gICAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBLTm9kZVZpc2l0b3I8Uj4sIHBhcmVudD86IE5vZGUpOiBSIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbGVtZW50S05vZGUodGhpcywgcGFyZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdLTm9kZS5FbGVtZW50JztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGUgZXh0ZW5kcyBLTm9kZSB7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgbGluZTogbnVtYmVyID0gMCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYXR0cmlidXRlJztcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICAgIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogS05vZGVWaXNpdG9yPFI+LCBwYXJlbnQ/OiBOb2RlKTogUiB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QXR0cmlidXRlS05vZGUodGhpcywgcGFyZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdLTm9kZS5BdHRyaWJ1dGUnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHQgZXh0ZW5kcyBLTm9kZSB7XG4gICAgcHVibGljIHZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogc3RyaW5nLCBsaW5lOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICAgIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogS05vZGVWaXNpdG9yPFI+LCBwYXJlbnQ/OiBOb2RlKTogUiB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VGV4dEtOb2RlKHRoaXMsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnS05vZGUuVGV4dCc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tbWVudCBleHRlbmRzIEtOb2RlIHtcbiAgICBwdWJsaWMgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcsIGxpbmU6IG51bWJlciA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2NvbW1lbnQnO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gICAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBLTm9kZVZpc2l0b3I8Uj4sIHBhcmVudD86IE5vZGUpOiBSIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb21tZW50S05vZGUodGhpcywgcGFyZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdLTm9kZS5Db21tZW50JztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEb2N0eXBlIGV4dGVuZHMgS05vZGUge1xuICAgIHB1YmxpYyB2YWx1ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IHN0cmluZywgbGluZTogbnVtYmVyID0gMCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnZG9jdHlwZSc7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEtOb2RlVmlzaXRvcjxSPiwgcGFyZW50PzogTm9kZSk6IFIge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERvY3R5cGVLTm9kZSh0aGlzLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ0tOb2RlLkRvY3R5cGUnO1xuICAgIH1cbn1cblxuIiwiZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcclxuICAvLyBQYXJzZXIgVG9rZW5zXHJcbiAgRW9mLFxyXG4gIFBhbmljLFxyXG5cclxuICAvLyBTaW5nbGUgQ2hhcmFjdGVyIFRva2Vuc1xyXG4gIEFtcGVyc2FuZCxcclxuICBBdFNpZ24sXHJcbiAgQ2FyZXQsXHJcbiAgQ29tbWEsXHJcbiAgRG9sbGFyLFxyXG4gIERvdCxcclxuICBIYXNoLFxyXG4gIExlZnRCcmFjZSxcclxuICBMZWZ0QnJhY2tldCxcclxuICBMZWZ0UGFyZW4sXHJcbiAgUGVyY2VudCxcclxuICBQaXBlLFxyXG4gIFJpZ2h0QnJhY2UsXHJcbiAgUmlnaHRCcmFja2V0LFxyXG4gIFJpZ2h0UGFyZW4sXHJcbiAgU2VtaWNvbG9uLFxyXG4gIFNsYXNoLFxyXG4gIFN0YXIsXHJcblxyXG4gIC8vIE9uZSBPciBUd28gQ2hhcmFjdGVyIFRva2Vuc1xyXG4gIEFycm93LFxyXG4gIEJhbmcsXHJcbiAgQmFuZ0VxdWFsLFxyXG4gIENvbG9uLFxyXG4gIEVxdWFsLFxyXG4gIEVxdWFsRXF1YWwsXHJcbiAgR3JlYXRlcixcclxuICBHcmVhdGVyRXF1YWwsXHJcbiAgTGVzcyxcclxuICBMZXNzRXF1YWwsXHJcbiAgTWludXMsXHJcbiAgTWludXNFcXVhbCxcclxuICBNaW51c01pbnVzLFxyXG4gIFBlcmNlbnRFcXVhbCxcclxuICBQbHVzLFxyXG4gIFBsdXNFcXVhbCxcclxuICBQbHVzUGx1cyxcclxuICBRdWVzdGlvbixcclxuICBRdWVzdGlvbkRvdCxcclxuICBRdWVzdGlvblF1ZXN0aW9uLFxyXG4gIFNsYXNoRXF1YWwsXHJcbiAgU3RhckVxdWFsLFxyXG4gIERvdERvdCxcclxuICBEb3REb3REb3QsXHJcbiAgTGVzc0VxdWFsR3JlYXRlcixcclxuXHJcbiAgLy8gTGl0ZXJhbHNcclxuICBJZGVudGlmaWVyLFxyXG4gIFRlbXBsYXRlLFxyXG4gIFN0cmluZyxcclxuICBOdW1iZXIsXHJcblxyXG4gIC8vIEtleXdvcmRzXHJcbiAgQW5kLFxyXG4gIENvbnN0LFxyXG4gIERlYnVnLFxyXG4gIEZhbHNlLFxyXG4gIEluc3RhbmNlb2YsXHJcbiAgTmV3LFxyXG4gIE51bGwsXHJcbiAgVW5kZWZpbmVkLFxyXG4gIE9mLFxyXG4gIE9yLFxyXG4gIFRydWUsXHJcbiAgVHlwZW9mLFxyXG4gIFZvaWQsXHJcbiAgV2l0aCxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRva2VuIHtcclxuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gIHB1YmxpYyBsaW5lOiBudW1iZXI7XHJcbiAgcHVibGljIGNvbDogbnVtYmVyO1xyXG4gIHB1YmxpYyB0eXBlOiBUb2tlblR5cGU7XHJcbiAgcHVibGljIGxpdGVyYWw6IGFueTtcclxuICBwdWJsaWMgbGV4ZW1lOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgdHlwZTogVG9rZW5UeXBlLFxyXG4gICAgbGV4ZW1lOiBzdHJpbmcsXHJcbiAgICBsaXRlcmFsOiBhbnksXHJcbiAgICBsaW5lOiBudW1iZXIsXHJcbiAgICBjb2w6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5uYW1lID0gVG9rZW5UeXBlW3R5cGVdO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIHRoaXMubGV4ZW1lID0gbGV4ZW1lO1xyXG4gICAgdGhpcy5saXRlcmFsID0gbGl0ZXJhbDtcclxuICAgIHRoaXMubGluZSA9IGxpbmU7XHJcbiAgICB0aGlzLmNvbCA9IGNvbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiBgWygke3RoaXMubGluZX0pOlwiJHt0aGlzLmxleGVtZX1cIl1gO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFdoaXRlU3BhY2VzID0gW1wiIFwiLCBcIlxcblwiLCBcIlxcdFwiLCBcIlxcclwiXSBhcyBjb25zdDtcclxuXHJcbmV4cG9ydCBjb25zdCBTZWxmQ2xvc2luZ1RhZ3MgPSBbXHJcbiAgXCJhcmVhXCIsXHJcbiAgXCJiYXNlXCIsXHJcbiAgXCJiclwiLFxyXG4gIFwiY29sXCIsXHJcbiAgXCJlbWJlZFwiLFxyXG4gIFwiaHJcIixcclxuICBcImltZ1wiLFxyXG4gIFwiaW5wdXRcIixcclxuICBcImxpbmtcIixcclxuICBcIm1ldGFcIixcclxuICBcInBhcmFtXCIsXHJcbiAgXCJzb3VyY2VcIixcclxuICBcInRyYWNrXCIsXHJcbiAgXCJ3YnJcIixcclxuXTtcclxuIiwiaW1wb3J0IHsgS2FzcGVyRXJyb3IgfSBmcm9tIFwiLi90eXBlcy9lcnJvclwiO1xuaW1wb3J0ICogYXMgTm9kZSBmcm9tIFwiLi90eXBlcy9ub2Rlc1wiO1xuaW1wb3J0IHsgU2VsZkNsb3NpbmdUYWdzLCBXaGl0ZVNwYWNlcyB9IGZyb20gXCIuL3R5cGVzL3Rva2VuXCI7XG5cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVBhcnNlciB7XG4gIHB1YmxpYyBjdXJyZW50OiBudW1iZXI7XG4gIHB1YmxpYyBsaW5lOiBudW1iZXI7XG4gIHB1YmxpYyBjb2w6IG51bWJlcjtcbiAgcHVibGljIHNvdXJjZTogc3RyaW5nO1xuICBwdWJsaWMgZXJyb3JzOiBzdHJpbmdbXTtcbiAgcHVibGljIG5vZGVzOiBOb2RlLktOb2RlW107XG5cbiAgcHVibGljIHBhcnNlKHNvdXJjZTogc3RyaW5nKTogTm9kZS5LTm9kZVtdIHtcbiAgICB0aGlzLmN1cnJlbnQgPSAwO1xuICAgIHRoaXMubGluZSA9IDE7XG4gICAgdGhpcy5jb2wgPSAxO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuXG4gICAgd2hpbGUgKCF0aGlzLmVvZigpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEthc3BlckVycm9yKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChgUGFyc2UgRXJyb3IgKCR7ZS5saW5lfToke2UuY29sfSkgPT4gJHtlLnZhbHVlfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goYCR7ZX1gKTtcbiAgICAgICAgICBpZiAodGhpcy5lcnJvcnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goXCJQYXJzZSBFcnJvciBsaW1pdCBleGNlZWRlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zb3VyY2UgPSBcIlwiO1xuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG5cbiAgcHJpdmF0ZSBtYXRjaCguLi5jaGFyczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGNoYXIgb2YgY2hhcnMpIHtcbiAgICAgIGlmICh0aGlzLmNoZWNrKGNoYXIpKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCArPSBjaGFyLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYWR2YW5jZShlb2ZFcnJvcjogc3RyaW5nID0gXCJcIik6IHZvaWQge1xuICAgIGlmICghdGhpcy5lb2YoKSkge1xuICAgICAgaWYgKHRoaXMuY2hlY2soXCJcXG5cIikpIHtcbiAgICAgICAgdGhpcy5saW5lICs9IDE7XG4gICAgICAgIHRoaXMuY29sID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29sICs9IDE7XG4gICAgICB0aGlzLmN1cnJlbnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lcnJvcihgVW5leHBlY3RlZCBlbmQgb2YgZmlsZS4gJHtlb2ZFcnJvcn1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlZWsoLi4uY2hhcnM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBjaGFyIG9mIGNoYXJzKSB7XG4gICAgICBpZiAodGhpcy5jaGVjayhjaGFyKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVjayhjaGFyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc2xpY2UodGhpcy5jdXJyZW50LCB0aGlzLmN1cnJlbnQgKyBjaGFyLmxlbmd0aCkgPT09IGNoYXI7XG4gIH1cblxuICBwcml2YXRlIGVvZigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID4gdGhpcy5zb3VyY2UubGVuZ3RoO1xuICB9XG5cbiAgcHJpdmF0ZSBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiBhbnkge1xuICAgIHRocm93IG5ldyBLYXNwZXJFcnJvcihtZXNzYWdlLCB0aGlzLmxpbmUsIHRoaXMuY29sKTtcbiAgfVxuXG4gIHByaXZhdGUgbm9kZSgpOiBOb2RlLktOb2RlIHtcbiAgICB0aGlzLndoaXRlc3BhY2UoKTtcbiAgICBsZXQgbm9kZTogTm9kZS5LTm9kZTtcblxuICAgIGlmICh0aGlzLm1hdGNoKFwiPC9cIikpIHtcbiAgICAgIHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIGNsb3NpbmcgdGFnXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1hdGNoKFwiPCEtLVwiKSkge1xuICAgICAgbm9kZSA9IHRoaXMuY29tbWVudCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tYXRjaChcIjwhZG9jdHlwZVwiKSB8fCB0aGlzLm1hdGNoKFwiPCFET0NUWVBFXCIpKSB7XG4gICAgICBub2RlID0gdGhpcy5kb2N0eXBlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1hdGNoKFwiPFwiKSkge1xuICAgICAgbm9kZSA9IHRoaXMuZWxlbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gdGhpcy50ZXh0KCk7XG4gICAgfVxuXG4gICAgdGhpcy53aGl0ZXNwYWNlKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBwcml2YXRlIGNvbW1lbnQoKTogTm9kZS5LTm9kZSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgZG8ge1xuICAgICAgdGhpcy5hZHZhbmNlKFwiRXhwZWN0ZWQgY29tbWVudCBjbG9zaW5nICctLT4nXCIpO1xuICAgIH0gd2hpbGUgKCF0aGlzLm1hdGNoKGAtLT5gKSk7XG4gICAgY29uc3QgY29tbWVudCA9IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCB0aGlzLmN1cnJlbnQgLSAzKTtcbiAgICByZXR1cm4gbmV3IE5vZGUuQ29tbWVudChjb21tZW50LCB0aGlzLmxpbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSBkb2N0eXBlKCk6IE5vZGUuS05vZGUge1xuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5jdXJyZW50O1xuICAgIGRvIHtcbiAgICAgIHRoaXMuYWR2YW5jZShcIkV4cGVjdGVkIGNsb3NpbmcgZG9jdHlwZVwiKTtcbiAgICB9IHdoaWxlICghdGhpcy5tYXRjaChgPmApKTtcbiAgICBjb25zdCBkb2N0eXBlID0gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIHRoaXMuY3VycmVudCAtIDEpLnRyaW0oKTtcbiAgICByZXR1cm4gbmV3IE5vZGUuRG9jdHlwZShkb2N0eXBlLCB0aGlzLmxpbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbGVtZW50KCk6IE5vZGUuS05vZGUge1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLmxpbmU7XG4gICAgY29uc3QgbmFtZSA9IHRoaXMuaWRlbnRpZmllcihcIi9cIiwgXCI+XCIpO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhpcy5lcnJvcihcIkV4cGVjdGVkIGEgdGFnIG5hbWVcIik7XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcygpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXRjaChcIi8+XCIpIHx8XG4gICAgICAoU2VsZkNsb3NpbmdUYWdzLmluY2x1ZGVzKG5hbWUpICYmIHRoaXMubWF0Y2goXCI+XCIpKVxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlLkVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgW10sIHRydWUsIHRoaXMubGluZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1hdGNoKFwiPlwiKSkge1xuICAgICAgdGhpcy5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgdGFnXCIpO1xuICAgIH1cblxuICAgIGxldCBjaGlsZHJlbjogTm9kZS5LTm9kZVtdID0gW107XG4gICAgdGhpcy53aGl0ZXNwYWNlKCk7XG4gICAgaWYgKCF0aGlzLnBlZWsoXCI8L1wiKSkge1xuICAgICAgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuKG5hbWUpO1xuICAgIH1cblxuICAgIHRoaXMuY2xvc2UobmFtZSk7XG4gICAgcmV0dXJuIG5ldyBOb2RlLkVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgY2hpbGRyZW4sIGZhbHNlLCBsaW5lKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xvc2UobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1hdGNoKFwiPC9cIikpIHtcbiAgICAgIHRoaXMuZXJyb3IoYEV4cGVjdGVkIDwvJHtuYW1lfT5gKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLm1hdGNoKGAke25hbWV9YCkpIHtcbiAgICAgIHRoaXMuZXJyb3IoYEV4cGVjdGVkIDwvJHtuYW1lfT5gKTtcbiAgICB9XG4gICAgdGhpcy53aGl0ZXNwYWNlKCk7XG4gICAgaWYgKCF0aGlzLm1hdGNoKFwiPlwiKSkge1xuICAgICAgdGhpcy5lcnJvcihgRXhwZWN0ZWQgPC8ke25hbWV9PmApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2hpbGRyZW4ocGFyZW50OiBzdHJpbmcpOiBOb2RlLktOb2RlW10ge1xuICAgIGNvbnN0IGNoaWxkcmVuOiBOb2RlLktOb2RlW10gPSBbXTtcbiAgICBkbyB7XG4gICAgICBpZiAodGhpcy5lb2YoKSkge1xuICAgICAgICB0aGlzLmVycm9yKGBFeHBlY3RlZCA8LyR7cGFyZW50fT5gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGUoKTtcbiAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICB9IHdoaWxlICghdGhpcy5wZWVrKGA8L2ApKTtcblxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIHByaXZhdGUgYXR0cmlidXRlcygpOiBOb2RlLkF0dHJpYnV0ZVtdIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzOiBOb2RlLkF0dHJpYnV0ZVtdID0gW107XG4gICAgd2hpbGUgKCF0aGlzLnBlZWsoXCI+XCIsIFwiLz5cIikgJiYgIXRoaXMuZW9mKCkpIHtcbiAgICAgIHRoaXMud2hpdGVzcGFjZSgpO1xuICAgICAgY29uc3QgbGluZSA9IHRoaXMubGluZTtcbiAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmlkZW50aWZpZXIoXCI9XCIsIFwiPlwiLCBcIi8+XCIpO1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXCJCbGFuayBhdHRyaWJ1dGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMud2hpdGVzcGFjZSgpO1xuICAgICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICAgIGlmICh0aGlzLm1hdGNoKFwiPVwiKSkge1xuICAgICAgICB0aGlzLndoaXRlc3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2goXCInXCIpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0aGlzLnN0cmluZyhcIidcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXRjaCgnXCInKSkge1xuICAgICAgICAgIHZhbHVlID0gdGhpcy5zdHJpbmcoJ1wiJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSB0aGlzLmlkZW50aWZpZXIoXCI+XCIsIFwiLz5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMud2hpdGVzcGFjZSgpO1xuICAgICAgYXR0cmlidXRlcy5wdXNoKG5ldyBOb2RlLkF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgbGluZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgfVxuXG4gIHByaXZhdGUgdGV4dCgpOiBOb2RlLktOb2RlIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuY3VycmVudDtcbiAgICBjb25zdCBsaW5lID0gdGhpcy5saW5lO1xuICAgIHdoaWxlICghdGhpcy5wZWVrKFwiPFwiKSAmJiAhdGhpcy5lb2YoKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgfVxuICAgIGNvbnN0IHRleHQgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgdGhpcy5jdXJyZW50KS50cmltKCk7XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOb2RlLlRleHQodGV4dCwgbGluZSk7XG4gIH1cblxuICBwcml2YXRlIHdoaXRlc3BhY2UoKTogbnVtYmVyIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIHdoaWxlICh0aGlzLnBlZWsoLi4uV2hpdGVTcGFjZXMpICYmICF0aGlzLmVvZigpKSB7XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbiAgfVxuXG4gIHByaXZhdGUgaWRlbnRpZmllciguLi5jbG9zaW5nOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gICAgdGhpcy53aGl0ZXNwYWNlKCk7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgd2hpbGUgKCF0aGlzLnBlZWsoLi4uV2hpdGVTcGFjZXMsIC4uLmNsb3NpbmcpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoYEV4cGVjdGVkIGNsb3NpbmcgJHtjbG9zaW5nfWApO1xuICAgIH1cbiAgICBjb25zdCBlbmQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy53aGl0ZXNwYWNlKCk7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLnRyaW0oKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RyaW5nKGNsb3Npbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgd2hpbGUgKCF0aGlzLm1hdGNoKGNsb3NpbmcpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoYEV4cGVjdGVkIGNsb3NpbmcgJHtjbG9zaW5nfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIHRoaXMuY3VycmVudCAtIDEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBUb2tlbiwgVG9rZW5UeXBlIH0gZnJvbSAndG9rZW4nO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRXhwciB7XG4gIHB1YmxpYyByZXN1bHQ6IGFueTtcbiAgcHVibGljIGxpbmU6IG51bWJlcjtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG4gIHB1YmxpYyBhYnN0cmFjdCBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbmV4cG9ydCBpbnRlcmZhY2UgRXhwclZpc2l0b3I8Uj4ge1xuICAgIHZpc2l0QXNzaWduRXhwcihleHByOiBBc3NpZ24pOiBSO1xuICAgIHZpc2l0QmluYXJ5RXhwcihleHByOiBCaW5hcnkpOiBSO1xuICAgIHZpc2l0Q2FsbEV4cHIoZXhwcjogQ2FsbCk6IFI7XG4gICAgdmlzaXREZWJ1Z0V4cHIoZXhwcjogRGVidWcpOiBSO1xuICAgIHZpc2l0RGljdGlvbmFyeUV4cHIoZXhwcjogRGljdGlvbmFyeSk6IFI7XG4gICAgdmlzaXRFYWNoRXhwcihleHByOiBFYWNoKTogUjtcbiAgICB2aXNpdEdldEV4cHIoZXhwcjogR2V0KTogUjtcbiAgICB2aXNpdEdyb3VwaW5nRXhwcihleHByOiBHcm91cGluZyk6IFI7XG4gICAgdmlzaXRLZXlFeHByKGV4cHI6IEtleSk6IFI7XG4gICAgdmlzaXRMb2dpY2FsRXhwcihleHByOiBMb2dpY2FsKTogUjtcbiAgICB2aXNpdExpc3RFeHByKGV4cHI6IExpc3QpOiBSO1xuICAgIHZpc2l0TGl0ZXJhbEV4cHIoZXhwcjogTGl0ZXJhbCk6IFI7XG4gICAgdmlzaXROZXdFeHByKGV4cHI6IE5ldyk6IFI7XG4gICAgdmlzaXROdWxsQ29hbGVzY2luZ0V4cHIoZXhwcjogTnVsbENvYWxlc2NpbmcpOiBSO1xuICAgIHZpc2l0UG9zdGZpeEV4cHIoZXhwcjogUG9zdGZpeCk6IFI7XG4gICAgdmlzaXRTZXRFeHByKGV4cHI6IFNldCk6IFI7XG4gICAgdmlzaXRUZW1wbGF0ZUV4cHIoZXhwcjogVGVtcGxhdGUpOiBSO1xuICAgIHZpc2l0VGVybmFyeUV4cHIoZXhwcjogVGVybmFyeSk6IFI7XG4gICAgdmlzaXRUeXBlb2ZFeHByKGV4cHI6IFR5cGVvZik6IFI7XG4gICAgdmlzaXRVbmFyeUV4cHIoZXhwcjogVW5hcnkpOiBSO1xuICAgIHZpc2l0VmFyaWFibGVFeHByKGV4cHI6IFZhcmlhYmxlKTogUjtcbiAgICB2aXNpdFZvaWRFeHByKGV4cHI6IFZvaWQpOiBSO1xufVxuXG5leHBvcnQgY2xhc3MgQXNzaWduIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIG5hbWU6IFRva2VuO1xuICAgIHB1YmxpYyB2YWx1ZTogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IFRva2VuLCB2YWx1ZTogRXhwciwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB9XG5cbiAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBFeHByVmlzaXRvcjxSPik6IFIge1xuICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRBc3NpZ25FeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuQXNzaWduJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluYXJ5IGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIGxlZnQ6IEV4cHI7XG4gICAgcHVibGljIG9wZXJhdG9yOiBUb2tlbjtcbiAgICBwdWJsaWMgcmlnaHQ6IEV4cHI7XG5cbiAgICBjb25zdHJ1Y3RvcihsZWZ0OiBFeHByLCBvcGVyYXRvcjogVG9rZW4sIHJpZ2h0OiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QmluYXJ5RXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLkJpbmFyeSc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhbGwgZXh0ZW5kcyBFeHByIHtcbiAgICBwdWJsaWMgY2FsbGVlOiBFeHByO1xuICAgIHB1YmxpYyBwYXJlbjogVG9rZW47XG4gICAgcHVibGljIGFyZ3M6IEV4cHJbXTtcblxuICAgIGNvbnN0cnVjdG9yKGNhbGxlZTogRXhwciwgcGFyZW46IFRva2VuLCBhcmdzOiBFeHByW10sIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNhbGxlZSA9IGNhbGxlZTtcbiAgICAgICAgdGhpcy5wYXJlbiA9IHBhcmVuO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdENhbGxFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuQ2FsbCc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlYnVnIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIHZhbHVlOiBFeHByO1xuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IEV4cHIsIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGVidWdFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuRGVidWcnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5IGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIHByb3BlcnRpZXM6IEV4cHJbXTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXM6IEV4cHJbXSwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGljdGlvbmFyeUV4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5EaWN0aW9uYXJ5JztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWFjaCBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBuYW1lOiBUb2tlbjtcbiAgICBwdWJsaWMga2V5OiBUb2tlbjtcbiAgICBwdWJsaWMgaXRlcmFibGU6IEV4cHI7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBUb2tlbiwga2V5OiBUb2tlbiwgaXRlcmFibGU6IEV4cHIsIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdEVhY2hFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuRWFjaCc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldCBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBlbnRpdHk6IEV4cHI7XG4gICAgcHVibGljIGtleTogRXhwcjtcbiAgICBwdWJsaWMgdHlwZTogVG9rZW5UeXBlO1xuXG4gICAgY29uc3RydWN0b3IoZW50aXR5OiBFeHByLCBrZXk6IEV4cHIsIHR5cGU6IFRva2VuVHlwZSwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB9XG5cbiAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBFeHByVmlzaXRvcjxSPik6IFIge1xuICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRHZXRFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuR2V0JztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3JvdXBpbmcgZXh0ZW5kcyBFeHByIHtcbiAgICBwdWJsaWMgZXhwcmVzc2lvbjogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKGV4cHJlc3Npb246IEV4cHIsIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdEdyb3VwaW5nRXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLkdyb3VwaW5nJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgS2V5IGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIG5hbWU6IFRva2VuO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogVG9rZW4sIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdEtleUV4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5LZXknO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dpY2FsIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIGxlZnQ6IEV4cHI7XG4gICAgcHVibGljIG9wZXJhdG9yOiBUb2tlbjtcbiAgICBwdWJsaWMgcmlnaHQ6IEV4cHI7XG5cbiAgICBjb25zdHJ1Y3RvcihsZWZ0OiBFeHByLCBvcGVyYXRvcjogVG9rZW4sIHJpZ2h0OiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TG9naWNhbEV4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5Mb2dpY2FsJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlzdCBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyB2YWx1ZTogRXhwcltdO1xuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IEV4cHJbXSwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB9XG5cbiAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBFeHByVmlzaXRvcjxSPik6IFIge1xuICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRMaXN0RXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLkxpc3QnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaXRlcmFsIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIHZhbHVlOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogYW55LCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdExpdGVyYWxFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuTGl0ZXJhbCc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5ldyBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBjbGF6ejogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKGNsYXp6OiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jbGF6eiA9IGNsYXp6O1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdE5ld0V4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5OZXcnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdWxsQ29hbGVzY2luZyBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBsZWZ0OiBFeHByO1xuICAgIHB1YmxpYyByaWdodDogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKGxlZnQ6IEV4cHIsIHJpZ2h0OiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdE51bGxDb2FsZXNjaW5nRXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLk51bGxDb2FsZXNjaW5nJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdGZpeCBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBuYW1lOiBUb2tlbjtcbiAgICBwdWJsaWMgaW5jcmVtZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBUb2tlbiwgaW5jcmVtZW50OiBudW1iZXIsIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmluY3JlbWVudCA9IGluY3JlbWVudDtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB9XG5cbiAgcHVibGljIGFjY2VwdDxSPih2aXNpdG9yOiBFeHByVmlzaXRvcjxSPik6IFIge1xuICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRQb3N0Zml4RXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLlBvc3RmaXgnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXQgZXh0ZW5kcyBFeHByIHtcbiAgICBwdWJsaWMgZW50aXR5OiBFeHByO1xuICAgIHB1YmxpYyBrZXk6IEV4cHI7XG4gICAgcHVibGljIHZhbHVlOiBFeHByO1xuXG4gICAgY29uc3RydWN0b3IoZW50aXR5OiBFeHByLCBrZXk6IEV4cHIsIHZhbHVlOiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0U2V0RXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLlNldCc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIHZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogc3RyaW5nLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdFRlbXBsYXRlRXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLlRlbXBsYXRlJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGVybmFyeSBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBjb25kaXRpb246IEV4cHI7XG4gICAgcHVibGljIHRoZW5FeHByOiBFeHByO1xuICAgIHB1YmxpYyBlbHNlRXhwcjogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmRpdGlvbjogRXhwciwgdGhlbkV4cHI6IEV4cHIsIGVsc2VFeHByOiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgICAgIHRoaXMudGhlbkV4cHIgPSB0aGVuRXhwcjtcbiAgICAgICAgdGhpcy5lbHNlRXhwciA9IGVsc2VFeHByO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdFRlcm5hcnlFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuVGVybmFyeSc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFR5cGVvZiBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyB2YWx1ZTogRXhwcjtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBFeHByLCBsaW5lOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdFR5cGVvZkV4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5UeXBlb2YnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmFyeSBleHRlbmRzIEV4cHIge1xuICAgIHB1YmxpYyBvcGVyYXRvcjogVG9rZW47XG4gICAgcHVibGljIHJpZ2h0OiBFeHByO1xuXG4gICAgY29uc3RydWN0b3Iob3BlcmF0b3I6IFRva2VuLCByaWdodDogRXhwciwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIH1cblxuICBwdWJsaWMgYWNjZXB0PFI+KHZpc2l0b3I6IEV4cHJWaXNpdG9yPFI+KTogUiB7XG4gICAgICByZXR1cm4gdmlzaXRvci52aXNpdFVuYXJ5RXhwcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuICdFeHByLlVuYXJ5JztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFyaWFibGUgZXh0ZW5kcyBFeHByIHtcbiAgICBwdWJsaWMgbmFtZTogVG9rZW47XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBUb2tlbiwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VmFyaWFibGVFeHByKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gJ0V4cHIuVmFyaWFibGUnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWb2lkIGV4dGVuZHMgRXhwciB7XG4gICAgcHVibGljIHZhbHVlOiBFeHByO1xuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IEV4cHIsIGxpbmU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfVxuXG4gIHB1YmxpYyBhY2NlcHQ8Uj4odmlzaXRvcjogRXhwclZpc2l0b3I8Uj4pOiBSIHtcbiAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Vm9pZEV4cHIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiAnRXhwci5Wb2lkJztcbiAgfVxufVxuXG4iLCJpbXBvcnQgeyBLYXNwZXJFcnJvciB9IGZyb20gXCIuL3R5cGVzL2Vycm9yXCI7XHJcbmltcG9ydCAqIGFzIEV4cHIgZnJvbSBcIi4vdHlwZXMvZXhwcmVzc2lvbnNcIjtcclxuaW1wb3J0IHsgVG9rZW4sIFRva2VuVHlwZSB9IGZyb20gXCIuL3R5cGVzL3Rva2VuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvblBhcnNlciB7XHJcbiAgcHJpdmF0ZSBjdXJyZW50OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB0b2tlbnM6IFRva2VuW107XHJcbiAgcHVibGljIGVycm9yczogc3RyaW5nW107XHJcbiAgcHVibGljIGVycm9yTGV2ZWwgPSAxO1xyXG5cclxuICBwdWJsaWMgcGFyc2UodG9rZW5zOiBUb2tlbltdKTogRXhwci5FeHByW10ge1xyXG4gICAgdGhpcy5jdXJyZW50ID0gMDtcclxuICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xyXG4gICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgIGNvbnN0IGV4cHJlc3Npb25zOiBFeHByLkV4cHJbXSA9IFtdO1xyXG4gICAgd2hpbGUgKCF0aGlzLmVvZigpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbnMucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEthc3BlckVycm9yKSB7XHJcbiAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGBQYXJzZSBFcnJvciAoJHtlLmxpbmV9OiR7ZS5jb2x9KSA9PiAke2UudmFsdWV9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goYCR7ZX1gKTtcclxuICAgICAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPiAxMDApIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChcIlBhcnNlIEVycm9yIGxpbWl0IGV4Y2VlZGVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbnM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3luY2hyb25pemUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cHJlc3Npb25zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtYXRjaCguLi50eXBlczogVG9rZW5UeXBlW10pOiBib29sZWFuIHtcclxuICAgIGZvciAoY29uc3QgdHlwZSBvZiB0eXBlcykge1xyXG4gICAgICBpZiAodGhpcy5jaGVjayh0eXBlKSkge1xyXG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkdmFuY2UoKTogVG9rZW4ge1xyXG4gICAgaWYgKCF0aGlzLmVvZigpKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMucHJldmlvdXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGVlaygpOiBUb2tlbiB7XHJcbiAgICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5jdXJyZW50XTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJldmlvdXMoKTogVG9rZW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuY3VycmVudCAtIDFdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVjayh0eXBlOiBUb2tlblR5cGUpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnBlZWsoKS50eXBlID09PSB0eXBlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlb2YoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGVjayhUb2tlblR5cGUuRW9mKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29uc3VtZSh0eXBlOiBUb2tlblR5cGUsIG1lc3NhZ2U6IHN0cmluZyk6IFRva2VuIHtcclxuICAgIGlmICh0aGlzLmNoZWNrKHR5cGUpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lcnJvcihcclxuICAgICAgdGhpcy5wZWVrKCksXHJcbiAgICAgIG1lc3NhZ2UgKyBgLCB1bmV4cGVjdGVkIHRva2VuIFwiJHt0aGlzLnBlZWsoKS5sZXhlbWV9XCJgXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlcnJvcih0b2tlbjogVG9rZW4sIG1lc3NhZ2U6IHN0cmluZyk6IGFueSB7XHJcbiAgICB0aHJvdyBuZXcgS2FzcGVyRXJyb3IobWVzc2FnZSwgdG9rZW4ubGluZSwgdG9rZW4uY29sKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3luY2hyb25pemUoKTogdm9pZCB7XHJcbiAgICBkbyB7XHJcbiAgICAgIGlmICh0aGlzLmNoZWNrKFRva2VuVHlwZS5TZW1pY29sb24pIHx8IHRoaXMuY2hlY2soVG9rZW5UeXBlLlJpZ2h0QnJhY2UpKSB7XHJcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgfSB3aGlsZSAoIXRoaXMuZW9mKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGZvcmVhY2godG9rZW5zOiBUb2tlbltdKTogRXhwci5FeHByIHtcclxuICAgIHRoaXMuY3VycmVudCA9IDA7XHJcbiAgICB0aGlzLnRva2VucyA9IHRva2VucztcclxuICAgIHRoaXMuZXJyb3JzID0gW107XHJcblxyXG4gICAgdGhpcy5jb25zdW1lKFxyXG4gICAgICBUb2tlblR5cGUuQ29uc3QsXHJcbiAgICAgIGBFeHBlY3RlZCBjb25zdCBkZWZpbml0aW9uIHN0YXJ0aW5nIFwiZWFjaFwiIHN0YXRlbWVudGBcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgbmFtZSA9IHRoaXMuY29uc3VtZShcclxuICAgICAgVG9rZW5UeXBlLklkZW50aWZpZXIsXHJcbiAgICAgIGBFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGluc2lkZSBcImVhY2hcIiBzdGF0ZW1lbnRgXHJcbiAgICApO1xyXG5cclxuICAgIGxldCBrZXk6IFRva2VuID0gbnVsbDtcclxuICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5XaXRoKSkge1xyXG4gICAgICBrZXkgPSB0aGlzLmNvbnN1bWUoXHJcbiAgICAgICAgVG9rZW5UeXBlLklkZW50aWZpZXIsXHJcbiAgICAgICAgYEV4cGVjdGVkIGEgXCJrZXlcIiBpZGVudGlmaWVyIGFmdGVyIFwid2l0aFwiIGtleXdvcmQgaW4gZm9yZWFjaCBzdGF0ZW1lbnRgXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb25zdW1lKFxyXG4gICAgICBUb2tlblR5cGUuT2YsXHJcbiAgICAgIGBFeHBlY3RlZCBcIm9mXCIga2V5d29yZCBpbnNpZGUgZm9yZWFjaCBzdGF0ZW1lbnRgXHJcbiAgICApO1xyXG4gICAgY29uc3QgaXRlcmFibGUgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IEV4cHIuRWFjaChuYW1lLCBrZXksIGl0ZXJhYmxlLCBuYW1lLmxpbmUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleHByZXNzaW9uKCk6IEV4cHIuRXhwciB7XHJcbiAgICBjb25zdCBleHByZXNzaW9uOiBFeHByLkV4cHIgPSB0aGlzLmFzc2lnbm1lbnQoKTtcclxuICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5TZW1pY29sb24pKSB7XHJcbiAgICAgIC8vIGNvbnN1bWUgYWxsIHNlbWljb2xvbnNcclxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIHdoaWxlICh0aGlzLm1hdGNoKFRva2VuVHlwZS5TZW1pY29sb24pKSB7fVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzc2lnbm1lbnQoKTogRXhwci5FeHByIHtcclxuICAgIGNvbnN0IGV4cHI6IEV4cHIuRXhwciA9IHRoaXMudGVybmFyeSgpO1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLm1hdGNoKFxyXG4gICAgICAgIFRva2VuVHlwZS5FcXVhbCxcclxuICAgICAgICBUb2tlblR5cGUuUGx1c0VxdWFsLFxyXG4gICAgICAgIFRva2VuVHlwZS5NaW51c0VxdWFsLFxyXG4gICAgICAgIFRva2VuVHlwZS5TdGFyRXF1YWwsXHJcbiAgICAgICAgVG9rZW5UeXBlLlNsYXNoRXF1YWxcclxuICAgICAgKVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IG9wZXJhdG9yOiBUb2tlbiA9IHRoaXMucHJldmlvdXMoKTtcclxuICAgICAgbGV0IHZhbHVlOiBFeHByLkV4cHIgPSB0aGlzLmFzc2lnbm1lbnQoKTtcclxuICAgICAgaWYgKGV4cHIgaW5zdGFuY2VvZiBFeHByLlZhcmlhYmxlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZTogVG9rZW4gPSBleHByLm5hbWU7XHJcbiAgICAgICAgaWYgKG9wZXJhdG9yLnR5cGUgIT09IFRva2VuVHlwZS5FcXVhbCkge1xyXG4gICAgICAgICAgdmFsdWUgPSBuZXcgRXhwci5CaW5hcnkoXHJcbiAgICAgICAgICAgIG5ldyBFeHByLlZhcmlhYmxlKG5hbWUsIG5hbWUubGluZSksXHJcbiAgICAgICAgICAgIG9wZXJhdG9yLFxyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgb3BlcmF0b3IubGluZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFeHByLkFzc2lnbihuYW1lLCB2YWx1ZSwgbmFtZS5saW5lKTtcclxuICAgICAgfSBlbHNlIGlmIChleHByIGluc3RhbmNlb2YgRXhwci5HZXQpIHtcclxuICAgICAgICBpZiAob3BlcmF0b3IudHlwZSAhPT0gVG9rZW5UeXBlLkVxdWFsKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBFeHByLkJpbmFyeShcclxuICAgICAgICAgICAgbmV3IEV4cHIuR2V0KGV4cHIuZW50aXR5LCBleHByLmtleSwgZXhwci50eXBlLCBleHByLmxpbmUpLFxyXG4gICAgICAgICAgICBvcGVyYXRvcixcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9wZXJhdG9yLmxpbmVcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgRXhwci5TZXQoZXhwci5lbnRpdHksIGV4cHIua2V5LCB2YWx1ZSwgZXhwci5saW5lKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVycm9yKG9wZXJhdG9yLCBgSW52YWxpZCBsLXZhbHVlLCBpcyBub3QgYW4gYXNzaWduaW5nIHRhcmdldC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0ZXJuYXJ5KCk6IEV4cHIuRXhwciB7XHJcbiAgICBjb25zdCBleHByID0gdGhpcy5udWxsQ29hbGVzY2luZygpO1xyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLlF1ZXN0aW9uKSkge1xyXG4gICAgICBjb25zdCB0aGVuRXhwcjogRXhwci5FeHByID0gdGhpcy50ZXJuYXJ5KCk7XHJcbiAgICAgIHRoaXMuY29uc3VtZShUb2tlblR5cGUuQ29sb24sIGBFeHBlY3RlZCBcIjpcIiBhZnRlciB0ZXJuYXJ5ID8gZXhwcmVzc2lvbmApO1xyXG4gICAgICBjb25zdCBlbHNlRXhwcjogRXhwci5FeHByID0gdGhpcy50ZXJuYXJ5KCk7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5UZXJuYXJ5KGV4cHIsIHRoZW5FeHByLCBlbHNlRXhwciwgZXhwci5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBudWxsQ29hbGVzY2luZygpOiBFeHByLkV4cHIge1xyXG4gICAgY29uc3QgZXhwciA9IHRoaXMubG9naWNhbE9yKCk7XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuUXVlc3Rpb25RdWVzdGlvbikpIHtcclxuICAgICAgY29uc3QgcmlnaHRFeHByOiBFeHByLkV4cHIgPSB0aGlzLm51bGxDb2FsZXNjaW5nKCk7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5OdWxsQ29hbGVzY2luZyhleHByLCByaWdodEV4cHIsIGV4cHIubGluZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9naWNhbE9yKCk6IEV4cHIuRXhwciB7XHJcbiAgICBsZXQgZXhwciA9IHRoaXMubG9naWNhbEFuZCgpO1xyXG4gICAgd2hpbGUgKHRoaXMubWF0Y2goVG9rZW5UeXBlLk9yKSkge1xyXG4gICAgICBjb25zdCBvcGVyYXRvcjogVG9rZW4gPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGNvbnN0IHJpZ2h0OiBFeHByLkV4cHIgPSB0aGlzLmxvZ2ljYWxBbmQoKTtcclxuICAgICAgZXhwciA9IG5ldyBFeHByLkxvZ2ljYWwoZXhwciwgb3BlcmF0b3IsIHJpZ2h0LCBvcGVyYXRvci5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2dpY2FsQW5kKCk6IEV4cHIuRXhwciB7XHJcbiAgICBsZXQgZXhwciA9IHRoaXMuZXF1YWxpdHkoKTtcclxuICAgIHdoaWxlICh0aGlzLm1hdGNoKFRva2VuVHlwZS5BbmQpKSB7XHJcbiAgICAgIGNvbnN0IG9wZXJhdG9yOiBUb2tlbiA9IHRoaXMucHJldmlvdXMoKTtcclxuICAgICAgY29uc3QgcmlnaHQ6IEV4cHIuRXhwciA9IHRoaXMuZXF1YWxpdHkoKTtcclxuICAgICAgZXhwciA9IG5ldyBFeHByLkxvZ2ljYWwoZXhwciwgb3BlcmF0b3IsIHJpZ2h0LCBvcGVyYXRvci5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlcXVhbGl0eSgpOiBFeHByLkV4cHIge1xyXG4gICAgbGV0IGV4cHI6IEV4cHIuRXhwciA9IHRoaXMuYWRkaXRpb24oKTtcclxuICAgIHdoaWxlIChcclxuICAgICAgdGhpcy5tYXRjaChcclxuICAgICAgICBUb2tlblR5cGUuQmFuZ0VxdWFsLFxyXG4gICAgICAgIFRva2VuVHlwZS5FcXVhbEVxdWFsLFxyXG4gICAgICAgIFRva2VuVHlwZS5HcmVhdGVyLFxyXG4gICAgICAgIFRva2VuVHlwZS5HcmVhdGVyRXF1YWwsXHJcbiAgICAgICAgVG9rZW5UeXBlLkxlc3MsXHJcbiAgICAgICAgVG9rZW5UeXBlLkxlc3NFcXVhbFxyXG4gICAgICApXHJcbiAgICApIHtcclxuICAgICAgY29uc3Qgb3BlcmF0b3I6IFRva2VuID0gdGhpcy5wcmV2aW91cygpO1xyXG4gICAgICBjb25zdCByaWdodDogRXhwci5FeHByID0gdGhpcy5hZGRpdGlvbigpO1xyXG4gICAgICBleHByID0gbmV3IEV4cHIuQmluYXJ5KGV4cHIsIG9wZXJhdG9yLCByaWdodCwgb3BlcmF0b3IubGluZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkaXRpb24oKTogRXhwci5FeHByIHtcclxuICAgIGxldCBleHByOiBFeHByLkV4cHIgPSB0aGlzLm1vZHVsdXMoKTtcclxuICAgIHdoaWxlICh0aGlzLm1hdGNoKFRva2VuVHlwZS5NaW51cywgVG9rZW5UeXBlLlBsdXMpKSB7XHJcbiAgICAgIGNvbnN0IG9wZXJhdG9yOiBUb2tlbiA9IHRoaXMucHJldmlvdXMoKTtcclxuICAgICAgY29uc3QgcmlnaHQ6IEV4cHIuRXhwciA9IHRoaXMubW9kdWx1cygpO1xyXG4gICAgICBleHByID0gbmV3IEV4cHIuQmluYXJ5KGV4cHIsIG9wZXJhdG9yLCByaWdodCwgb3BlcmF0b3IubGluZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbW9kdWx1cygpOiBFeHByLkV4cHIge1xyXG4gICAgbGV0IGV4cHI6IEV4cHIuRXhwciA9IHRoaXMubXVsdGlwbGljYXRpb24oKTtcclxuICAgIHdoaWxlICh0aGlzLm1hdGNoKFRva2VuVHlwZS5QZXJjZW50KSkge1xyXG4gICAgICBjb25zdCBvcGVyYXRvcjogVG9rZW4gPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGNvbnN0IHJpZ2h0OiBFeHByLkV4cHIgPSB0aGlzLm11bHRpcGxpY2F0aW9uKCk7XHJcbiAgICAgIGV4cHIgPSBuZXcgRXhwci5CaW5hcnkoZXhwciwgb3BlcmF0b3IsIHJpZ2h0LCBvcGVyYXRvci5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtdWx0aXBsaWNhdGlvbigpOiBFeHByLkV4cHIge1xyXG4gICAgbGV0IGV4cHI6IEV4cHIuRXhwciA9IHRoaXMudHlwZW9mKCk7XHJcbiAgICB3aGlsZSAodGhpcy5tYXRjaChUb2tlblR5cGUuU2xhc2gsIFRva2VuVHlwZS5TdGFyKSkge1xyXG4gICAgICBjb25zdCBvcGVyYXRvcjogVG9rZW4gPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGNvbnN0IHJpZ2h0OiBFeHByLkV4cHIgPSB0aGlzLnR5cGVvZigpO1xyXG4gICAgICBleHByID0gbmV3IEV4cHIuQmluYXJ5KGV4cHIsIG9wZXJhdG9yLCByaWdodCwgb3BlcmF0b3IubGluZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdHlwZW9mKCk6IEV4cHIuRXhwciB7XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuVHlwZW9mKSkge1xyXG4gICAgICBjb25zdCBvcGVyYXRvcjogVG9rZW4gPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGNvbnN0IHZhbHVlOiBFeHByLkV4cHIgPSB0aGlzLnR5cGVvZigpO1xyXG4gICAgICByZXR1cm4gbmV3IEV4cHIuVHlwZW9mKHZhbHVlLCBvcGVyYXRvci5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnVuYXJ5KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVuYXJ5KCk6IEV4cHIuRXhwciB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMubWF0Y2goXHJcbiAgICAgICAgVG9rZW5UeXBlLk1pbnVzLFxyXG4gICAgICAgIFRva2VuVHlwZS5CYW5nLFxyXG4gICAgICAgIFRva2VuVHlwZS5Eb2xsYXIsXHJcbiAgICAgICAgVG9rZW5UeXBlLlBsdXNQbHVzLFxyXG4gICAgICAgIFRva2VuVHlwZS5NaW51c01pbnVzXHJcbiAgICAgIClcclxuICAgICkge1xyXG4gICAgICBjb25zdCBvcGVyYXRvcjogVG9rZW4gPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGNvbnN0IHJpZ2h0OiBFeHByLkV4cHIgPSB0aGlzLnVuYXJ5KCk7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5VbmFyeShvcGVyYXRvciwgcmlnaHQsIG9wZXJhdG9yLmxpbmUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMubmV3S2V5d29yZCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBuZXdLZXl3b3JkKCk6IEV4cHIuRXhwciB7XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuTmV3KSkge1xyXG4gICAgICBjb25zdCBrZXl3b3JkID0gdGhpcy5wcmV2aW91cygpO1xyXG4gICAgICBjb25zdCBjb25zdHJ1Y3Q6IEV4cHIuRXhwciA9IHRoaXMuY2FsbCgpO1xyXG4gICAgICByZXR1cm4gbmV3IEV4cHIuTmV3KGNvbnN0cnVjdCwga2V5d29yZC5saW5lKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmNhbGwoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FsbCgpOiBFeHByLkV4cHIge1xyXG4gICAgbGV0IGV4cHI6IEV4cHIuRXhwciA9IHRoaXMucHJpbWFyeSgpO1xyXG4gICAgbGV0IGNvbnN1bWVkID0gdHJ1ZTtcclxuICAgIGRvIHtcclxuICAgICAgY29uc3VtZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLkxlZnRQYXJlbikpIHtcclxuICAgICAgICBjb25zdW1lZCA9IHRydWU7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgY29uc3QgYXJnczogRXhwci5FeHByW10gPSBbXTtcclxuICAgICAgICAgIGlmICghdGhpcy5jaGVjayhUb2tlblR5cGUuUmlnaHRQYXJlbikpIHtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKHRoaXMubWF0Y2goVG9rZW5UeXBlLkNvbW1hKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBwYXJlbjogVG9rZW4gPSB0aGlzLmNvbnN1bWUoXHJcbiAgICAgICAgICAgIFRva2VuVHlwZS5SaWdodFBhcmVuLFxyXG4gICAgICAgICAgICBgRXhwZWN0ZWQgXCIpXCIgYWZ0ZXIgYXJndW1lbnRzYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGV4cHIgPSBuZXcgRXhwci5DYWxsKGV4cHIsIHBhcmVuLCBhcmdzLCBwYXJlbi5saW5lKTtcclxuICAgICAgICB9IHdoaWxlICh0aGlzLm1hdGNoKFRva2VuVHlwZS5MZWZ0UGFyZW4pKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuRG90LCBUb2tlblR5cGUuUXVlc3Rpb25Eb3QpKSB7XHJcbiAgICAgICAgY29uc3VtZWQgPSB0cnVlO1xyXG4gICAgICAgIGV4cHIgPSB0aGlzLmRvdEdldChleHByLCB0aGlzLnByZXZpb3VzKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5MZWZ0QnJhY2tldCkpIHtcclxuICAgICAgICBjb25zdW1lZCA9IHRydWU7XHJcbiAgICAgICAgZXhwciA9IHRoaXMuYnJhY2tldEdldChleHByLCB0aGlzLnByZXZpb3VzKCkpO1xyXG4gICAgICB9XHJcbiAgICB9IHdoaWxlIChjb25zdW1lZCk7XHJcbiAgICByZXR1cm4gZXhwcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZG90R2V0KGV4cHI6IEV4cHIuRXhwciwgb3BlcmF0b3I6IFRva2VuKTogRXhwci5FeHByIHtcclxuICAgIGNvbnN0IG5hbWU6IFRva2VuID0gdGhpcy5jb25zdW1lKFxyXG4gICAgICBUb2tlblR5cGUuSWRlbnRpZmllcixcclxuICAgICAgYEV4cGVjdCBwcm9wZXJ0eSBuYW1lIGFmdGVyICcuJ2BcclxuICAgICk7XHJcbiAgICBjb25zdCBrZXk6IEV4cHIuS2V5ID0gbmV3IEV4cHIuS2V5KG5hbWUsIG5hbWUubGluZSk7XHJcbiAgICByZXR1cm4gbmV3IEV4cHIuR2V0KGV4cHIsIGtleSwgb3BlcmF0b3IudHlwZSwgbmFtZS5saW5lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYnJhY2tldEdldChleHByOiBFeHByLkV4cHIsIG9wZXJhdG9yOiBUb2tlbik6IEV4cHIuRXhwciB7XHJcbiAgICBsZXQga2V5OiBFeHByLkV4cHIgPSBudWxsO1xyXG5cclxuICAgIGlmICghdGhpcy5jaGVjayhUb2tlblR5cGUuUmlnaHRCcmFja2V0KSkge1xyXG4gICAgICBrZXkgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnN1bWUoVG9rZW5UeXBlLlJpZ2h0QnJhY2tldCwgYEV4cGVjdGVkIFwiXVwiIGFmdGVyIGFuIGluZGV4YCk7XHJcbiAgICByZXR1cm4gbmV3IEV4cHIuR2V0KGV4cHIsIGtleSwgb3BlcmF0b3IudHlwZSwgb3BlcmF0b3IubGluZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByaW1hcnkoKTogRXhwci5FeHByIHtcclxuICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5GYWxzZSkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkxpdGVyYWwoZmFsc2UsIHRoaXMucHJldmlvdXMoKS5saW5lKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5UcnVlKSkge1xyXG4gICAgICByZXR1cm4gbmV3IEV4cHIuTGl0ZXJhbCh0cnVlLCB0aGlzLnByZXZpb3VzKCkubGluZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuTnVsbCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkxpdGVyYWwobnVsbCwgdGhpcy5wcmV2aW91cygpLmxpbmUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLlVuZGVmaW5lZCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkxpdGVyYWwodW5kZWZpbmVkLCB0aGlzLnByZXZpb3VzKCkubGluZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuTnVtYmVyKSB8fCB0aGlzLm1hdGNoKFRva2VuVHlwZS5TdHJpbmcpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5MaXRlcmFsKHRoaXMucHJldmlvdXMoKS5saXRlcmFsLCB0aGlzLnByZXZpb3VzKCkubGluZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuVGVtcGxhdGUpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5UZW1wbGF0ZSh0aGlzLnByZXZpb3VzKCkubGl0ZXJhbCwgdGhpcy5wcmV2aW91cygpLmxpbmUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLklkZW50aWZpZXIpKSB7XHJcbiAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSB0aGlzLnByZXZpb3VzKCk7XHJcbiAgICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5QbHVzUGx1cykpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEV4cHIuUG9zdGZpeChpZGVudGlmaWVyLCAxLCBpZGVudGlmaWVyLmxpbmUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5NaW51c01pbnVzKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRXhwci5Qb3N0Zml4KGlkZW50aWZpZXIsIC0xLCBpZGVudGlmaWVyLmxpbmUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5WYXJpYWJsZShpZGVudGlmaWVyLCBpZGVudGlmaWVyLmxpbmUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLkxlZnRQYXJlbikpIHtcclxuICAgICAgY29uc3QgZXhwcjogRXhwci5FeHByID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgIHRoaXMuY29uc3VtZShUb2tlblR5cGUuUmlnaHRQYXJlbiwgYEV4cGVjdGVkIFwiKVwiIGFmdGVyIGV4cHJlc3Npb25gKTtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkdyb3VwaW5nKGV4cHIsIGV4cHIubGluZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuTGVmdEJyYWNlKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5KCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuTGVmdEJyYWNrZXQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxpc3QoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1hdGNoKFRva2VuVHlwZS5Wb2lkKSkge1xyXG4gICAgICBjb25zdCBleHByOiBFeHByLkV4cHIgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLlZvaWQoZXhwciwgdGhpcy5wcmV2aW91cygpLmxpbmUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLkRlYnVnKSkge1xyXG4gICAgICBjb25zdCBleHByOiBFeHByLkV4cHIgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkRlYnVnKGV4cHIsIHRoaXMucHJldmlvdXMoKS5saW5lKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyB0aGlzLmVycm9yKFxyXG4gICAgICB0aGlzLnBlZWsoKSxcclxuICAgICAgYEV4cGVjdGVkIGV4cHJlc3Npb24sIHVuZXhwZWN0ZWQgdG9rZW4gXCIke3RoaXMucGVlaygpLmxleGVtZX1cImBcclxuICAgICk7XHJcbiAgICAvLyB1bnJlYWNoZWFibGUgY29kZVxyXG4gICAgcmV0dXJuIG5ldyBFeHByLkxpdGVyYWwobnVsbCwgMCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGljdGlvbmFyeSgpOiBFeHByLkV4cHIge1xyXG4gICAgY29uc3QgbGVmdEJyYWNlID0gdGhpcy5wcmV2aW91cygpO1xyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLlJpZ2h0QnJhY2UpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRXhwci5EaWN0aW9uYXJ5KFtdLCB0aGlzLnByZXZpb3VzKCkubGluZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzOiBFeHByLkV4cHJbXSA9IFtdO1xyXG4gICAgZG8ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5tYXRjaChUb2tlblR5cGUuU3RyaW5nLCBUb2tlblR5cGUuSWRlbnRpZmllciwgVG9rZW5UeXBlLk51bWJlcilcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3Qga2V5OiBUb2tlbiA9IHRoaXMucHJldmlvdXMoKTtcclxuICAgICAgICBpZiAodGhpcy5tYXRjaChUb2tlblR5cGUuQ29sb24pKSB7XHJcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgcHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgRXhwci5TZXQobnVsbCwgbmV3IEV4cHIuS2V5KGtleSwga2V5LmxpbmUpLCB2YWx1ZSwga2V5LmxpbmUpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5ldyBFeHByLlZhcmlhYmxlKGtleSwga2V5LmxpbmUpO1xyXG4gICAgICAgICAgcHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgRXhwci5TZXQobnVsbCwgbmV3IEV4cHIuS2V5KGtleSwga2V5LmxpbmUpLCB2YWx1ZSwga2V5LmxpbmUpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVycm9yKFxyXG4gICAgICAgICAgdGhpcy5wZWVrKCksXHJcbiAgICAgICAgICBgU3RyaW5nLCBOdW1iZXIgb3IgSWRlbnRpZmllciBleHBlY3RlZCBhcyBhIEtleSBvZiBEaWN0aW9uYXJ5IHssIHVuZXhwZWN0ZWQgdG9rZW4gJHtcclxuICAgICAgICAgICAgdGhpcy5wZWVrKCkubGV4ZW1lXHJcbiAgICAgICAgICB9YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKHRoaXMubWF0Y2goVG9rZW5UeXBlLkNvbW1hKSk7XHJcbiAgICB0aGlzLmNvbnN1bWUoVG9rZW5UeXBlLlJpZ2h0QnJhY2UsIGBFeHBlY3RlZCBcIn1cIiBhZnRlciBvYmplY3QgbGl0ZXJhbGApO1xyXG5cclxuICAgIHJldHVybiBuZXcgRXhwci5EaWN0aW9uYXJ5KHByb3BlcnRpZXMsIGxlZnRCcmFjZS5saW5lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbGlzdCgpOiBFeHByLkV4cHIge1xyXG4gICAgY29uc3QgdmFsdWVzOiBFeHByLkV4cHJbXSA9IFtdO1xyXG4gICAgY29uc3QgbGVmdEJyYWNrZXQgPSB0aGlzLnByZXZpb3VzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMubWF0Y2goVG9rZW5UeXBlLlJpZ2h0QnJhY2tldCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBFeHByLkxpc3QoW10sIHRoaXMucHJldmlvdXMoKS5saW5lKTtcclxuICAgIH1cclxuICAgIGRvIHtcclxuICAgICAgdmFsdWVzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xyXG4gICAgfSB3aGlsZSAodGhpcy5tYXRjaChUb2tlblR5cGUuQ29tbWEpKTtcclxuXHJcbiAgICB0aGlzLmNvbnN1bWUoXHJcbiAgICAgIFRva2VuVHlwZS5SaWdodEJyYWNrZXQsXHJcbiAgICAgIGBFeHBlY3RlZCBcIl1cIiBhZnRlciBhcnJheSBkZWNsYXJhdGlvbmBcclxuICAgICk7XHJcbiAgICByZXR1cm4gbmV3IEV4cHIuTGlzdCh2YWx1ZXMsIGxlZnRCcmFja2V0LmxpbmUpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUb2tlblR5cGUgfSBmcm9tIFwiLi90eXBlcy90b2tlblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNEaWdpdChjaGFyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGNoYXIgPj0gXCIwXCIgJiYgY2hhciA8PSBcIjlcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxwaGEoY2hhcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAoY2hhciA+PSBcImFcIiAmJiBjaGFyIDw9IFwielwiKSB8fCAoY2hhciA+PSBcIkFcIiAmJiBjaGFyIDw9IFwiWlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxwaGFOdW1lcmljKGNoYXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNBbHBoYShjaGFyKSB8fCBpc0RpZ2l0KGNoYXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZSh3b3JkOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0tleXdvcmQod29yZDoga2V5b2YgdHlwZW9mIFRva2VuVHlwZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gVG9rZW5UeXBlW3dvcmRdID49IFRva2VuVHlwZS5BbmQ7XG59XG4iLCJpbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBUb2tlbiwgVG9rZW5UeXBlIH0gZnJvbSBcIi4vdHlwZXMvdG9rZW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2FubmVyIHtcclxuICAvKiogc2NyaXB0cyBzb3VyY2UgY29kZSAqL1xyXG4gIHB1YmxpYyBzb3VyY2U6IHN0cmluZztcclxuICAvKiogY29udGFpbnMgdGhlIHNvdXJjZSBjb2RlIHJlcHJlc2VudGVkIGFzIGxpc3Qgb2YgdG9rZW5zICovXHJcbiAgcHVibGljIHRva2VuczogVG9rZW5bXTtcclxuICAvKiogTGlzdCBvZiBlcnJvcnMgZnJvbSBzY2FubmluZyAqL1xyXG4gIHB1YmxpYyBlcnJvcnM6IHN0cmluZ1tdO1xyXG4gIC8qKiBwb2ludHMgdG8gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGJlaW5nIHRva2VuaXplZCAqL1xyXG4gIHByaXZhdGUgY3VycmVudDogbnVtYmVyO1xyXG4gIC8qKiBwb2ludHMgdG8gdGhlIHN0YXJ0IG9mIHRoZSB0b2tlbiAgKi9cclxuICBwcml2YXRlIHN0YXJ0OiBudW1iZXI7XHJcbiAgLyoqIGN1cnJlbnQgbGluZSBvZiBzb3VyY2UgY29kZSBiZWluZyB0b2tlbml6ZWQgKi9cclxuICBwcml2YXRlIGxpbmU6IG51bWJlcjtcclxuICAvKiogY3VycmVudCBjb2x1bW4gb2YgdGhlIGNoYXJhY3RlciBiZWluZyB0b2tlbml6ZWQgKi9cclxuICBwcml2YXRlIGNvbDogbnVtYmVyO1xyXG5cclxuICBwdWJsaWMgc2Nhbihzb3VyY2U6IHN0cmluZyk6IFRva2VuW10ge1xyXG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICB0aGlzLnRva2VucyA9IFtdO1xyXG4gICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgIHRoaXMuY3VycmVudCA9IDA7XHJcbiAgICB0aGlzLnN0YXJ0ID0gMDtcclxuICAgIHRoaXMubGluZSA9IDE7XHJcbiAgICB0aGlzLmNvbCA9IDE7XHJcblxyXG4gICAgd2hpbGUgKCF0aGlzLmVvZigpKSB7XHJcbiAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLmN1cnJlbnQ7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5nZXRUb2tlbigpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMucHVzaChgJHtlfWApO1xyXG4gICAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPiAxMDApIHtcclxuICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goXCJFcnJvciBsaW1pdCBleGNlZWRlZFwiKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzLnRva2VucztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudG9rZW5zLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5Fb2YsIFwiXCIsIG51bGwsIHRoaXMubGluZSwgMCkpO1xyXG4gICAgcmV0dXJuIHRoaXMudG9rZW5zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlb2YoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID49IHRoaXMuc291cmNlLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWR2YW5jZSgpOiBzdHJpbmcge1xyXG4gICAgaWYgKHRoaXMucGVlaygpID09PSBcIlxcblwiKSB7XHJcbiAgICAgIHRoaXMubGluZSsrO1xyXG4gICAgICB0aGlzLmNvbCA9IDA7XHJcbiAgICB9XHJcbiAgICB0aGlzLmN1cnJlbnQrKztcclxuICAgIHRoaXMuY29sKys7XHJcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuY3VycmVudCAtIDEpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRUb2tlbih0b2tlblR5cGU6IFRva2VuVHlwZSwgbGl0ZXJhbDogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5zb3VyY2Uuc3Vic3RyaW5nKHRoaXMuc3RhcnQsIHRoaXMuY3VycmVudCk7XHJcbiAgICB0aGlzLnRva2Vucy5wdXNoKG5ldyBUb2tlbih0b2tlblR5cGUsIHRleHQsIGxpdGVyYWwsIHRoaXMubGluZSwgdGhpcy5jb2wpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbWF0Y2goZXhwZWN0ZWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuZW9mKCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNvdXJjZS5jaGFyQXQodGhpcy5jdXJyZW50KSAhPT0gZXhwZWN0ZWQpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VycmVudCsrO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBlZWsoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmVvZigpKSB7XHJcbiAgICAgIHJldHVybiBcIlxcMFwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmN1cnJlbnQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwZWVrTmV4dCgpOiBzdHJpbmcge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudCArIDEgPj0gdGhpcy5zb3VyY2UubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBcIlxcMFwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmN1cnJlbnQgKyAxKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29tbWVudCgpOiB2b2lkIHtcclxuICAgIHdoaWxlICh0aGlzLnBlZWsoKSAhPT0gXCJcXG5cIiAmJiAhdGhpcy5lb2YoKSkge1xyXG4gICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbXVsdGlsaW5lQ29tbWVudCgpOiB2b2lkIHtcclxuICAgIHdoaWxlICghdGhpcy5lb2YoKSAmJiAhKHRoaXMucGVlaygpID09PSBcIipcIiAmJiB0aGlzLnBlZWtOZXh0KCkgPT09IFwiL1wiKSkge1xyXG4gICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmVvZigpKSB7XHJcbiAgICAgIHRoaXMuZXJyb3IoJ1VudGVybWluYXRlZCBjb21tZW50LCBleHBlY3RpbmcgY2xvc2luZyBcIiovXCInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHRoZSBjbG9zaW5nIHNsYXNoICcqLydcclxuICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdHJpbmcocXVvdGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgd2hpbGUgKHRoaXMucGVlaygpICE9PSBxdW90ZSAmJiAhdGhpcy5lb2YoKSkge1xyXG4gICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVbnRlcm1pbmF0ZWQgc3RyaW5nLlxyXG4gICAgaWYgKHRoaXMuZW9mKCkpIHtcclxuICAgICAgdGhpcy5lcnJvcihgVW50ZXJtaW5hdGVkIHN0cmluZywgZXhwZWN0aW5nIGNsb3NpbmcgJHtxdW90ZX1gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSBjbG9zaW5nIFwiLlxyXG4gICAgdGhpcy5hZHZhbmNlKCk7XHJcblxyXG4gICAgLy8gVHJpbSB0aGUgc3Vycm91bmRpbmcgcXVvdGVzLlxyXG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnNvdXJjZS5zdWJzdHJpbmcodGhpcy5zdGFydCArIDEsIHRoaXMuY3VycmVudCAtIDEpO1xyXG4gICAgdGhpcy5hZGRUb2tlbihxdW90ZSAhPT0gXCJgXCIgPyBUb2tlblR5cGUuU3RyaW5nIDogVG9rZW5UeXBlLlRlbXBsYXRlLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG51bWJlcigpOiB2b2lkIHtcclxuICAgIC8vIGdldHMgaW50ZWdlciBwYXJ0XHJcbiAgICB3aGlsZSAoVXRpbHMuaXNEaWdpdCh0aGlzLnBlZWsoKSkpIHtcclxuICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2tzIGZvciBmcmFjdGlvblxyXG4gICAgaWYgKHRoaXMucGVlaygpID09PSBcIi5cIiAmJiBVdGlscy5pc0RpZ2l0KHRoaXMucGVla05leHQoKSkpIHtcclxuICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0cyBmcmFjdGlvbiBwYXJ0XHJcbiAgICB3aGlsZSAoVXRpbHMuaXNEaWdpdCh0aGlzLnBlZWsoKSkpIHtcclxuICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2tzIGZvciBleHBvbmVudFxyXG4gICAgaWYgKHRoaXMucGVlaygpLnRvTG93ZXJDYXNlKCkgPT09IFwiZVwiKSB7XHJcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgICBpZiAodGhpcy5wZWVrKCkgPT09IFwiLVwiIHx8IHRoaXMucGVlaygpID09PSBcIitcIikge1xyXG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKFV0aWxzLmlzRGlnaXQodGhpcy5wZWVrKCkpKSB7XHJcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zb3VyY2Uuc3Vic3RyaW5nKHRoaXMuc3RhcnQsIHRoaXMuY3VycmVudCk7XHJcbiAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5OdW1iZXIsIE51bWJlcih2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpZGVudGlmaWVyKCk6IHZvaWQge1xyXG4gICAgd2hpbGUgKFV0aWxzLmlzQWxwaGFOdW1lcmljKHRoaXMucGVlaygpKSkge1xyXG4gICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc291cmNlLnN1YnN0cmluZyh0aGlzLnN0YXJ0LCB0aGlzLmN1cnJlbnQpO1xyXG4gICAgY29uc3QgY2FwaXRhbGl6ZWQgPSBVdGlscy5jYXBpdGFsaXplKHZhbHVlKSBhcyBrZXlvZiB0eXBlb2YgVG9rZW5UeXBlO1xyXG4gICAgaWYgKFV0aWxzLmlzS2V5d29yZChjYXBpdGFsaXplZCkpIHtcclxuICAgICAgdGhpcy5hZGRUb2tlbihUb2tlblR5cGVbY2FwaXRhbGl6ZWRdLCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5JZGVudGlmaWVyLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFRva2VuKCk6IHZvaWQge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuYWR2YW5jZSgpO1xyXG4gICAgc3dpdGNoIChjaGFyKSB7XHJcbiAgICAgIGNhc2UgXCIoXCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuTGVmdFBhcmVuLCBudWxsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIilcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5SaWdodFBhcmVuLCBudWxsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIltcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5MZWZ0QnJhY2tldCwgbnVsbCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJdXCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuUmlnaHRCcmFja2V0LCBudWxsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIntcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5MZWZ0QnJhY2UsIG51bGwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwifVwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLlJpZ2h0QnJhY2UsIG51bGwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiLFwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNvbW1hLCBudWxsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjtcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5TZW1pY29sb24sIG51bGwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiXlwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNhcmV0LCBudWxsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIiRcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5Eb2xsYXIsIG51bGwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiI1wiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkhhc2gsIG51bGwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiOlwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oXHJcbiAgICAgICAgICB0aGlzLm1hdGNoKFwiPVwiKSA/IFRva2VuVHlwZS5BcnJvdyA6IFRva2VuVHlwZS5Db2xvbixcclxuICAgICAgICAgIG51bGxcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiKlwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oXHJcbiAgICAgICAgICB0aGlzLm1hdGNoKFwiPVwiKSA/IFRva2VuVHlwZS5TdGFyRXF1YWwgOiBUb2tlblR5cGUuU3RhcixcclxuICAgICAgICAgIG51bGxcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiJVwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oXHJcbiAgICAgICAgICB0aGlzLm1hdGNoKFwiPVwiKSA/IFRva2VuVHlwZS5QZXJjZW50RXF1YWwgOiBUb2tlblR5cGUuUGVyY2VudCxcclxuICAgICAgICAgIG51bGxcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwifFwiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4odGhpcy5tYXRjaChcInxcIikgPyBUb2tlblR5cGUuT3IgOiBUb2tlblR5cGUuUGlwZSwgbnVsbCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCImXCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihcclxuICAgICAgICAgIHRoaXMubWF0Y2goXCImXCIpID8gVG9rZW5UeXBlLkFuZCA6IFRva2VuVHlwZS5BbXBlcnNhbmQsXHJcbiAgICAgICAgICBudWxsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFxyXG4gICAgICAgICAgdGhpcy5tYXRjaChcIj1cIikgPyBUb2tlblR5cGUuR3JlYXRlckVxdWFsIDogVG9rZW5UeXBlLkdyZWF0ZXIsXHJcbiAgICAgICAgICBudWxsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIiFcIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFxyXG4gICAgICAgICAgdGhpcy5tYXRjaChcIj1cIikgPyBUb2tlblR5cGUuQmFuZ0VxdWFsIDogVG9rZW5UeXBlLkJhbmcsXHJcbiAgICAgICAgICBudWxsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIj9cIjpcclxuICAgICAgICB0aGlzLmFkZFRva2VuKFxyXG4gICAgICAgICAgdGhpcy5tYXRjaChcIj9cIilcclxuICAgICAgICAgICAgPyBUb2tlblR5cGUuUXVlc3Rpb25RdWVzdGlvblxyXG4gICAgICAgICAgICA6IHRoaXMubWF0Y2goXCIuXCIpXHJcbiAgICAgICAgICAgID8gVG9rZW5UeXBlLlF1ZXN0aW9uRG90XHJcbiAgICAgICAgICAgIDogVG9rZW5UeXBlLlF1ZXN0aW9uLFxyXG4gICAgICAgICAgbnVsbFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI9XCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihcclxuICAgICAgICAgIHRoaXMubWF0Y2goXCI9XCIpXHJcbiAgICAgICAgICAgID8gVG9rZW5UeXBlLkVxdWFsRXF1YWxcclxuICAgICAgICAgICAgOiB0aGlzLm1hdGNoKFwiPlwiKVxyXG4gICAgICAgICAgICA/IFRva2VuVHlwZS5BcnJvd1xyXG4gICAgICAgICAgICA6IFRva2VuVHlwZS5FcXVhbCxcclxuICAgICAgICAgIG51bGxcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiK1wiOlxyXG4gICAgICAgIHRoaXMuYWRkVG9rZW4oXHJcbiAgICAgICAgICB0aGlzLm1hdGNoKFwiK1wiKVxyXG4gICAgICAgICAgICA/IFRva2VuVHlwZS5QbHVzUGx1c1xyXG4gICAgICAgICAgICA6IHRoaXMubWF0Y2goXCI9XCIpXHJcbiAgICAgICAgICAgID8gVG9rZW5UeXBlLlBsdXNFcXVhbFxyXG4gICAgICAgICAgICA6IFRva2VuVHlwZS5QbHVzLFxyXG4gICAgICAgICAgbnVsbFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCItXCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihcclxuICAgICAgICAgIHRoaXMubWF0Y2goXCItXCIpXHJcbiAgICAgICAgICAgID8gVG9rZW5UeXBlLk1pbnVzTWludXNcclxuICAgICAgICAgICAgOiB0aGlzLm1hdGNoKFwiPVwiKVxyXG4gICAgICAgICAgICA/IFRva2VuVHlwZS5NaW51c0VxdWFsXHJcbiAgICAgICAgICAgIDogVG9rZW5UeXBlLk1pbnVzLFxyXG4gICAgICAgICAgbnVsbFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI8XCI6XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbihcclxuICAgICAgICAgIHRoaXMubWF0Y2goXCI9XCIpXHJcbiAgICAgICAgICAgID8gdGhpcy5tYXRjaChcIj5cIilcclxuICAgICAgICAgICAgICA/IFRva2VuVHlwZS5MZXNzRXF1YWxHcmVhdGVyXHJcbiAgICAgICAgICAgICAgOiBUb2tlblR5cGUuTGVzc0VxdWFsXHJcbiAgICAgICAgICAgIDogVG9rZW5UeXBlLkxlc3MsXHJcbiAgICAgICAgICBudWxsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIi5cIjpcclxuICAgICAgICBpZiAodGhpcy5tYXRjaChcIi5cIikpIHtcclxuICAgICAgICAgIGlmICh0aGlzLm1hdGNoKFwiLlwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5Eb3REb3REb3QsIG51bGwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuRG90RG90LCBudWxsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuRG90LCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCIvXCI6XHJcbiAgICAgICAgaWYgKHRoaXMubWF0Y2goXCIvXCIpKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbW1lbnQoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWF0Y2goXCIqXCIpKSB7XHJcbiAgICAgICAgICB0aGlzLm11bHRpbGluZUNvbW1lbnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5hZGRUb2tlbihcclxuICAgICAgICAgICAgdGhpcy5tYXRjaChcIj1cIikgPyBUb2tlblR5cGUuU2xhc2hFcXVhbCA6IFRva2VuVHlwZS5TbGFzaCxcclxuICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgYCdgOlxyXG4gICAgICBjYXNlIGBcImA6XHJcbiAgICAgIGNhc2UgXCJgXCI6XHJcbiAgICAgICAgdGhpcy5zdHJpbmcoY2hhcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIC8vIGlnbm9yZSBjYXNlc1xyXG4gICAgICBjYXNlIFwiXFxuXCI6XHJcbiAgICAgIGNhc2UgXCIgXCI6XHJcbiAgICAgIGNhc2UgXCJcXHJcIjpcclxuICAgICAgY2FzZSBcIlxcdFwiOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyBjb21wbGV4IGNhc2VzXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaWYgKFV0aWxzLmlzRGlnaXQoY2hhcikpIHtcclxuICAgICAgICAgIHRoaXMubnVtYmVyKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChVdGlscy5pc0FscGhhKGNoYXIpKSB7XHJcbiAgICAgICAgICB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5lcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgJyR7Y2hhcn0nYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgU2NhbiBFcnJvciAoJHt0aGlzLmxpbmV9OiR7dGhpcy5jb2x9KSA9PiAke21lc3NhZ2V9YCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTY29wZSB7XG4gIHB1YmxpYyB2YWx1ZXM6IE1hcDxzdHJpbmcsIGFueT47XG4gIHB1YmxpYyBwYXJlbnQ6IFNjb3BlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudD86IFNjb3BlLCBlbnRyaWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50ID8gcGFyZW50IDogbnVsbDtcbiAgICB0aGlzLmluaXQoZW50cmllcyk7XG4gIH1cblxuICBwdWJsaWMgaW5pdChlbnRyaWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQge1xuICAgIGlmIChlbnRyaWVzKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoZW50cmllcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMudmFsdWVzLnNldChuYW1lLCB2YWx1ZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcbiAgICBpZiAodGhpcy52YWx1ZXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5nZXQoa2V5KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpbmRvd1trZXkgYXMga2V5b2YgdHlwZW9mIHdpbmRvd107XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIEV4cHIgZnJvbSBcIi4vdHlwZXMvZXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IFNjYW5uZXIgfSBmcm9tIFwiLi9zY2FubmVyXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uUGFyc2VyIGFzIFBhcnNlciB9IGZyb20gXCIuL2V4cHJlc3Npb24tcGFyc2VyXCI7XG5pbXBvcnQgeyBTY29wZSB9IGZyb20gXCIuL3Njb3BlXCI7XG5pbXBvcnQgeyBUb2tlblR5cGUgfSBmcm9tIFwiLi90eXBlcy90b2tlblwiO1xuXG5leHBvcnQgY2xhc3MgSW50ZXJwcmV0ZXIgaW1wbGVtZW50cyBFeHByLkV4cHJWaXNpdG9yPGFueT4ge1xuICBwdWJsaWMgc2NvcGUgPSBuZXcgU2NvcGUoKTtcbiAgcHVibGljIGVycm9yczogc3RyaW5nW10gPSBbXTtcbiAgcHJpdmF0ZSBzY2FubmVyID0gbmV3IFNjYW5uZXIoKTtcbiAgcHJpdmF0ZSBwYXJzZXIgPSBuZXcgUGFyc2VyKCk7XG5cbiAgcHVibGljIGV2YWx1YXRlKGV4cHI6IEV4cHIuRXhwcik6IGFueSB7XG4gICAgcmV0dXJuIChleHByLnJlc3VsdCA9IGV4cHIuYWNjZXB0KHRoaXMpKTtcbiAgfVxuXG4gIHB1YmxpYyBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgRXJyb3IgPT4gJHttZXNzYWdlfWApO1xuICB9XG5cbiAgcHVibGljIHZpc2l0VmFyaWFibGVFeHByKGV4cHI6IEV4cHIuVmFyaWFibGUpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnNjb3BlLmdldChleHByLm5hbWUubGV4ZW1lKTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdEFzc2lnbkV4cHIoZXhwcjogRXhwci5Bc3NpZ24pOiBhbnkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5ldmFsdWF0ZShleHByLnZhbHVlKTtcbiAgICB0aGlzLnNjb3BlLnNldChleHByLm5hbWUubGV4ZW1lLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcHVibGljIHZpc2l0S2V5RXhwcihleHByOiBFeHByLktleSk6IGFueSB7XG4gICAgcmV0dXJuIGV4cHIubmFtZS5saXRlcmFsO1xuICB9XG5cbiAgcHVibGljIHZpc2l0R2V0RXhwcihleHByOiBFeHByLkdldCk6IGFueSB7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5ldmFsdWF0ZShleHByLmVudGl0eSk7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5ldmFsdWF0ZShleHByLmtleSk7XG4gICAgaWYgKCFlbnRpdHkgJiYgZXhwci50eXBlID09PSBUb2tlblR5cGUuUXVlc3Rpb25Eb3QpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdHlba2V5XTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdFNldEV4cHIoZXhwcjogRXhwci5TZXQpOiBhbnkge1xuICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZXZhbHVhdGUoZXhwci5lbnRpdHkpO1xuICAgIGNvbnN0IGtleSA9IHRoaXMuZXZhbHVhdGUoZXhwci5rZXkpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5ldmFsdWF0ZShleHByLnZhbHVlKTtcbiAgICBlbnRpdHlba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdFBvc3RmaXhFeHByKGV4cHI6IEV4cHIuUG9zdGZpeCk6IGFueSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnNjb3BlLmdldChleHByLm5hbWUubGV4ZW1lKTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlICsgZXhwci5pbmNyZW1lbnQ7XG4gICAgdGhpcy5zY29wZS5zZXQoZXhwci5uYW1lLmxleGVtZSwgbmV3VmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdExpc3RFeHByKGV4cHI6IEV4cHIuTGlzdCk6IGFueSB7XG4gICAgY29uc3QgdmFsdWVzOiBhbnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgZXhwcmVzc2lvbiBvZiBleHByLnZhbHVlKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZXZhbHVhdGUoZXhwcmVzc2lvbik7XG4gICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBwcml2YXRlIHRlbXBsYXRlUGFyc2Uoc291cmNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRva2VucyA9IHRoaXMuc2Nhbm5lci5zY2FuKHNvdXJjZSk7XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSB0aGlzLnBhcnNlci5wYXJzZSh0b2tlbnMpO1xuICAgIGlmICh0aGlzLnBhcnNlci5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVycm9yKGBUZW1wbGF0ZSBzdHJpbmcgIGVycm9yOiAke3RoaXMucGFyc2VyLmVycm9yc1swXX1gKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgZm9yIChjb25zdCBleHByZXNzaW9uIG9mIGV4cHJlc3Npb25zKSB7XG4gICAgICByZXN1bHQgKz0gdGhpcy5ldmFsdWF0ZShleHByZXNzaW9uKS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHVibGljIHZpc2l0VGVtcGxhdGVFeHByKGV4cHI6IEV4cHIuVGVtcGxhdGUpOiBhbnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGV4cHIudmFsdWUucmVwbGFjZShcbiAgICAgIC9cXHtcXHsoW1xcc1xcU10rPylcXH1cXH0vZyxcbiAgICAgIChtLCBwbGFjZWhvbGRlcikgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVBhcnNlKHBsYWNlaG9sZGVyKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwdWJsaWMgdmlzaXRCaW5hcnlFeHByKGV4cHI6IEV4cHIuQmluYXJ5KTogYW55IHtcbiAgICBjb25zdCBsZWZ0ID0gdGhpcy5ldmFsdWF0ZShleHByLmxlZnQpO1xuICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5ldmFsdWF0ZShleHByLnJpZ2h0KTtcblxuICAgIHN3aXRjaCAoZXhwci5vcGVyYXRvci50eXBlKSB7XG4gICAgICBjYXNlIFRva2VuVHlwZS5NaW51czpcbiAgICAgIGNhc2UgVG9rZW5UeXBlLk1pbnVzRXF1YWw6XG4gICAgICAgIHJldHVybiBsZWZ0IC0gcmlnaHQ7XG4gICAgICBjYXNlIFRva2VuVHlwZS5TbGFzaDpcbiAgICAgIGNhc2UgVG9rZW5UeXBlLlNsYXNoRXF1YWw6XG4gICAgICAgIHJldHVybiBsZWZ0IC8gcmlnaHQ7XG4gICAgICBjYXNlIFRva2VuVHlwZS5TdGFyOlxuICAgICAgY2FzZSBUb2tlblR5cGUuU3RhckVxdWFsOlxuICAgICAgICByZXR1cm4gbGVmdCAqIHJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuUGVyY2VudDpcbiAgICAgIGNhc2UgVG9rZW5UeXBlLlBlcmNlbnRFcXVhbDpcbiAgICAgICAgcmV0dXJuIGxlZnQgJSByaWdodDtcbiAgICAgIGNhc2UgVG9rZW5UeXBlLlBsdXM6XG4gICAgICBjYXNlIFRva2VuVHlwZS5QbHVzRXF1YWw6XG4gICAgICAgIHJldHVybiBsZWZ0ICsgcmlnaHQ7XG4gICAgICBjYXNlIFRva2VuVHlwZS5QaXBlOlxuICAgICAgICByZXR1cm4gbGVmdCB8IHJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuQ2FyZXQ6XG4gICAgICAgIHJldHVybiBsZWZ0IF4gcmlnaHQ7XG4gICAgICBjYXNlIFRva2VuVHlwZS5HcmVhdGVyOlxuICAgICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuR3JlYXRlckVxdWFsOlxuICAgICAgICByZXR1cm4gbGVmdCA+PSByaWdodDtcbiAgICAgIGNhc2UgVG9rZW5UeXBlLkxlc3M6XG4gICAgICAgIHJldHVybiBsZWZ0IDwgcmlnaHQ7XG4gICAgICBjYXNlIFRva2VuVHlwZS5MZXNzRXF1YWw6XG4gICAgICAgIHJldHVybiBsZWZ0IDw9IHJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuRXF1YWxFcXVhbDpcbiAgICAgICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuQmFuZ0VxdWFsOlxuICAgICAgICByZXR1cm4gbGVmdCAhPT0gcmlnaHQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmVycm9yKFwiVW5rbm93biBiaW5hcnkgb3BlcmF0b3IgXCIgKyBleHByLm9wZXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIG51bGw7IC8vIHVucmVhY2hhYmxlXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHZpc2l0TG9naWNhbEV4cHIoZXhwcjogRXhwci5Mb2dpY2FsKTogYW55IHtcbiAgICBjb25zdCBsZWZ0ID0gdGhpcy5ldmFsdWF0ZShleHByLmxlZnQpO1xuXG4gICAgaWYgKGV4cHIub3BlcmF0b3IudHlwZSA9PT0gVG9rZW5UeXBlLk9yKSB7XG4gICAgICBpZiAobGVmdCkge1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFsZWZ0KSB7XG4gICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKGV4cHIucmlnaHQpO1xuICB9XG5cbiAgcHVibGljIHZpc2l0VGVybmFyeUV4cHIoZXhwcjogRXhwci5UZXJuYXJ5KTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZShleHByLmNvbmRpdGlvbikuaXNUcnV0aHkoKVxuICAgICAgPyB0aGlzLmV2YWx1YXRlKGV4cHIudGhlbkV4cHIpXG4gICAgICA6IHRoaXMuZXZhbHVhdGUoZXhwci5lbHNlRXhwcik7XG4gIH1cblxuICBwdWJsaWMgdmlzaXROdWxsQ29hbGVzY2luZ0V4cHIoZXhwcjogRXhwci5OdWxsQ29hbGVzY2luZyk6IGFueSB7XG4gICAgY29uc3QgbGVmdCA9IHRoaXMuZXZhbHVhdGUoZXhwci5sZWZ0KTtcbiAgICBpZiAoIWxlZnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKGV4cHIucmlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdEdyb3VwaW5nRXhwcihleHByOiBFeHByLkdyb3VwaW5nKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZShleHByLmV4cHJlc3Npb24pO1xuICB9XG5cbiAgcHVibGljIHZpc2l0TGl0ZXJhbEV4cHIoZXhwcjogRXhwci5MaXRlcmFsKTogYW55IHtcbiAgICByZXR1cm4gZXhwci52YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdFVuYXJ5RXhwcihleHByOiBFeHByLlVuYXJ5KTogYW55IHtcbiAgICBjb25zdCByaWdodCA9IHRoaXMuZXZhbHVhdGUoZXhwci5yaWdodCk7XG4gICAgc3dpdGNoIChleHByLm9wZXJhdG9yLnR5cGUpIHtcbiAgICAgIGNhc2UgVG9rZW5UeXBlLk1pbnVzOlxuICAgICAgICByZXR1cm4gLXJpZ2h0O1xuICAgICAgY2FzZSBUb2tlblR5cGUuQmFuZzpcbiAgICAgICAgcmV0dXJuICFyaWdodDtcbiAgICAgIGNhc2UgVG9rZW5UeXBlLlBsdXNQbHVzOlxuICAgICAgY2FzZSBUb2tlblR5cGUuTWludXNNaW51czpcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPVxuICAgICAgICAgIE51bWJlcihyaWdodCkgKyAoZXhwci5vcGVyYXRvci50eXBlID09PSBUb2tlblR5cGUuUGx1c1BsdXMgPyAxIDogLTEpO1xuICAgICAgICBpZiAoZXhwci5yaWdodCBpbnN0YW5jZW9mIEV4cHIuVmFyaWFibGUpIHtcbiAgICAgICAgICB0aGlzLnNjb3BlLnNldChleHByLnJpZ2h0Lm5hbWUubGV4ZW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhwci5yaWdodCBpbnN0YW5jZW9mIEV4cHIuR2V0KSB7XG4gICAgICAgICAgY29uc3QgYXNzaWduID0gbmV3IEV4cHIuU2V0KFxuICAgICAgICAgICAgZXhwci5yaWdodC5lbnRpdHksXG4gICAgICAgICAgICBleHByLnJpZ2h0LmtleSxcbiAgICAgICAgICAgIG5ldyBFeHByLkxpdGVyYWwobmV3VmFsdWUsIGV4cHIubGluZSksXG4gICAgICAgICAgICBleHByLmxpbmVcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZXZhbHVhdGUoYXNzaWduKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVycm9yKFxuICAgICAgICAgICAgYEludmFsaWQgcmlnaHQtaGFuZCBzaWRlIGV4cHJlc3Npb24gaW4gcHJlZml4IG9wZXJhdGlvbjogICR7ZXhwci5yaWdodH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmVycm9yKGBVbmtub3duIHVuYXJ5IG9wZXJhdG9yICcgKyBleHByLm9wZXJhdG9yYCk7XG4gICAgICAgIHJldHVybiBudWxsOyAvLyBzaG91bGQgYmUgdW5yZWFjaGFibGVcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdmlzaXRDYWxsRXhwcihleHByOiBFeHByLkNhbGwpOiBhbnkge1xuICAgIC8vIHZlcmlmeSBjYWxsZWUgaXMgYSBmdW5jdGlvblxuICAgIGNvbnN0IGNhbGxlZSA9IHRoaXMuZXZhbHVhdGUoZXhwci5jYWxsZWUpO1xuICAgIGlmICh0eXBlb2YgY2FsbGVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMuZXJyb3IoYCR7Y2FsbGVlfSBpcyBub3QgYSBmdW5jdGlvbmApO1xuICAgIH1cbiAgICAvLyBldmFsdWF0ZSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiBleHByLmFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh0aGlzLmV2YWx1YXRlKGFyZ3VtZW50KSk7XG4gICAgfVxuICAgIC8vIGV4ZWN1dGUgZnVuY3Rpb25cbiAgICBpZiAoXG4gICAgICBleHByLmNhbGxlZSBpbnN0YW5jZW9mIEV4cHIuR2V0ICYmXG4gICAgICAoZXhwci5jYWxsZWUuZW50aXR5IGluc3RhbmNlb2YgRXhwci5WYXJpYWJsZSB8fFxuICAgICAgICBleHByLmNhbGxlZS5lbnRpdHkgaW5zdGFuY2VvZiBFeHByLkdyb3VwaW5nKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNhbGxlZS5hcHBseShleHByLmNhbGxlZS5lbnRpdHkucmVzdWx0LCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxlZSguLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdmlzaXROZXdFeHByKGV4cHI6IEV4cHIuTmV3KTogYW55IHtcbiAgICBjb25zdCBuZXdDYWxsID0gZXhwci5jbGF6eiBhcyBFeHByLkNhbGw7XG4gICAgLy8gaW50ZXJuYWwgY2xhc3MgZGVmaW5pdGlvbiBpbnN0YW5jZVxuICAgIGNvbnN0IGNsYXp6ID0gdGhpcy5ldmFsdWF0ZShuZXdDYWxsLmNhbGxlZSk7XG5cbiAgICBpZiAodHlwZW9mIGNsYXp6ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgIGAnJHtjbGF6en0nIGlzIG5vdCBhIGNsYXNzLiAnbmV3JyBzdGF0ZW1lbnQgbXVzdCBiZSB1c2VkIHdpdGggY2xhc3Nlcy5gXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGFyZ3M6IGFueVtdID0gW107XG4gICAgZm9yIChjb25zdCBhcmcgb2YgbmV3Q2FsbC5hcmdzKSB7XG4gICAgICBhcmdzLnB1c2godGhpcy5ldmFsdWF0ZShhcmcpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBjbGF6eiguLi5hcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyB2aXNpdERpY3Rpb25hcnlFeHByKGV4cHI6IEV4cHIuRGljdGlvbmFyeSk6IGFueSB7XG4gICAgY29uc3QgZGljdDogYW55ID0ge307XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBleHByLnByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMuZXZhbHVhdGUoKHByb3BlcnR5IGFzIEV4cHIuU2V0KS5rZXkpO1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmV2YWx1YXRlKChwcm9wZXJ0eSBhcyBFeHByLlNldCkudmFsdWUpO1xuICAgICAgZGljdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBkaWN0O1xuICB9XG5cbiAgcHVibGljIHZpc2l0VHlwZW9mRXhwcihleHByOiBFeHByLlR5cGVvZik6IGFueSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLmV2YWx1YXRlKGV4cHIudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIHZpc2l0RWFjaEV4cHIoZXhwcjogRXhwci5FYWNoKTogYW55IHtcbiAgICByZXR1cm4gW1xuICAgICAgZXhwci5uYW1lLmxleGVtZSxcbiAgICAgIGV4cHIua2V5ID8gZXhwci5rZXkubGV4ZW1lIDogbnVsbCxcbiAgICAgIHRoaXMuZXZhbHVhdGUoZXhwci5pdGVyYWJsZSksXG4gICAgXTtcbiAgfVxuXG4gIHZpc2l0Vm9pZEV4cHIoZXhwcjogRXhwci5Wb2lkKTogYW55IHtcbiAgICB0aGlzLmV2YWx1YXRlKGV4cHIudmFsdWUpO1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgdmlzaXREZWJ1Z0V4cHIoZXhwcjogRXhwci5Wb2lkKTogYW55IHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmV2YWx1YXRlKGV4cHIudmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cbiIsImltcG9ydCB7IEV4cHJlc3Npb25QYXJzZXIgfSBmcm9tIFwiLi9leHByZXNzaW9uLXBhcnNlclwiO1xyXG5pbXBvcnQgeyBJbnRlcnByZXRlciB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XHJcbmltcG9ydCB7IFNjYW5uZXIgfSBmcm9tIFwiLi9zY2FubmVyXCI7XHJcbmltcG9ydCB7IFNjb3BlIH0gZnJvbSBcIi4vc2NvcGVcIjtcclxuaW1wb3J0ICogYXMgS05vZGUgZnJvbSBcIi4vdHlwZXMvbm9kZXNcIjtcclxuXHJcbnR5cGUgSWZFbHNlTm9kZSA9IFtLTm9kZS5FbGVtZW50LCBLTm9kZS5BdHRyaWJ1dGVdO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyYW5zcGlsZXIgaW1wbGVtZW50cyBLTm9kZS5LTm9kZVZpc2l0b3I8dm9pZD4ge1xyXG4gIHByaXZhdGUgc2Nhbm5lciA9IG5ldyBTY2FubmVyKCk7XHJcbiAgcHJpdmF0ZSBwYXJzZXIgPSBuZXcgRXhwcmVzc2lvblBhcnNlcigpO1xyXG4gIHByaXZhdGUgaW50ZXJwcmV0ZXIgPSBuZXcgSW50ZXJwcmV0ZXIoKTtcclxuICBwdWJsaWMgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBwcml2YXRlIGV2YWx1YXRlKG5vZGU6IEtOb2RlLktOb2RlLCBwYXJlbnQ/OiBOb2RlKTogdm9pZCB7XHJcbiAgICBub2RlLmFjY2VwdCh0aGlzLCBwYXJlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8gZXZhbHVhdGVzIGV4cHJlc3Npb25zIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGZpcnN0IGV2YWx1YXRpb25cclxuICBwcml2YXRlIGV4ZWN1dGUoc291cmNlOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgY29uc3QgdG9rZW5zID0gdGhpcy5zY2FubmVyLnNjYW4oc291cmNlKTtcclxuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5wYXJzZXIucGFyc2UodG9rZW5zKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGV4cHJlc3Npb25zLm1hcCgoZXhwcmVzc2lvbikgPT5cclxuICAgICAgdGhpcy5pbnRlcnByZXRlci5ldmFsdWF0ZShleHByZXNzaW9uKVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA/IHJlc3VsdFswXSA6IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0cmFuc3BpbGUoXHJcbiAgICBub2RlczogS05vZGUuS05vZGVbXSxcclxuICAgIGVudHJpZXM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9XHJcbiAgKTogTm9kZSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwia2FzcGVyXCIpO1xyXG4gICAgdGhpcy5pbnRlcnByZXRlci5zY29wZS5pbml0KGVudHJpZXMpO1xyXG4gICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlU2libGluZ3Mobm9kZXMsIGNvbnRhaW5lcik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZX1gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXRFbGVtZW50S05vZGUobm9kZTogS05vZGUuRWxlbWVudCwgcGFyZW50PzogTm9kZSk6IHZvaWQge1xyXG4gICAgdGhpcy5jcmVhdGVFbGVtZW50KG5vZGUsIHBhcmVudCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXRUZXh0S05vZGUobm9kZTogS05vZGUuVGV4dCwgcGFyZW50PzogTm9kZSk6IHZvaWQge1xyXG4gICAgY29uc3QgcmVnZXggPSAvXFx7XFx7LitcXH1cXH0vbXM7XHJcbiAgICBsZXQgdGV4dDogVGV4dDtcclxuICAgIGlmIChyZWdleC50ZXN0KG5vZGUudmFsdWUpKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG5vZGUudmFsdWUucmVwbGFjZShcclxuICAgICAgICAvXFx7XFx7KFtcXHNcXFNdKz8pXFx9XFx9L2csXHJcbiAgICAgICAgKG0sIHBsYWNlaG9sZGVyKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVBhcnNlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyZXN1bHQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmVudCkge1xyXG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGV4dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXRBdHRyaWJ1dGVLTm9kZShub2RlOiBLTm9kZS5BdHRyaWJ1dGUsIHBhcmVudD86IE5vZGUpOiB2b2lkIHtcclxuICAgIGNvbnN0IGF0dHIgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUobm9kZS5uYW1lKTtcclxuICAgIGlmIChub2RlLnZhbHVlKSB7XHJcbiAgICAgIGF0dHIudmFsdWUgPSBub2RlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgKHBhcmVudCBhcyBIVE1MRWxlbWVudCkuc2V0QXR0cmlidXRlTm9kZShhdHRyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyB2aXNpdENvbW1lbnRLTm9kZShub2RlOiBLTm9kZS5Db21tZW50LCBwYXJlbnQ/OiBOb2RlKTogdm9pZCB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgQ29tbWVudChub2RlLnZhbHVlKTtcclxuICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZpbmRBdHRyKFxyXG4gICAgbm9kZTogS05vZGUuRWxlbWVudCxcclxuICAgIG5hbWU6IHN0cmluZ1tdXHJcbiAgKTogS05vZGUuQXR0cmlidXRlIHwgbnVsbCB7XHJcbiAgICBpZiAoIW5vZGUgfHwgIW5vZGUuYXR0cmlidXRlcyB8fCAhbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhdHRyaWIgPSBub2RlLmF0dHJpYnV0ZXMuZmluZCgoYXR0cikgPT5cclxuICAgICAgbmFtZS5pbmNsdWRlcygoYXR0ciBhcyBLTm9kZS5BdHRyaWJ1dGUpLm5hbWUpXHJcbiAgICApO1xyXG4gICAgaWYgKGF0dHJpYikge1xyXG4gICAgICByZXR1cm4gYXR0cmliIGFzIEtOb2RlLkF0dHJpYnV0ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkb0lmKGV4cHJlc3Npb25zOiBJZkVsc2VOb2RlW10sIHBhcmVudDogTm9kZSk6IHZvaWQge1xyXG4gICAgY29uc3QgJGlmID0gdGhpcy5leGVjdXRlKChleHByZXNzaW9uc1swXVsxXSBhcyBLTm9kZS5BdHRyaWJ1dGUpLnZhbHVlKTtcclxuICAgIGlmICgkaWYpIHtcclxuICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KGV4cHJlc3Npb25zWzBdWzBdLCBwYXJlbnQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChjb25zdCBleHByZXNzaW9uIG9mIGV4cHJlc3Npb25zLnNsaWNlKDEsIGV4cHJlc3Npb25zLmxlbmd0aCkpIHtcclxuICAgICAgaWYgKHRoaXMuZmluZEF0dHIoZXhwcmVzc2lvblswXSBhcyBLTm9kZS5FbGVtZW50LCBbXCJAZWxzZWlmXCJdKSkge1xyXG4gICAgICAgIGNvbnN0ICRlbHNlaWYgPSB0aGlzLmV4ZWN1dGUoKGV4cHJlc3Npb25bMV0gYXMgS05vZGUuQXR0cmlidXRlKS52YWx1ZSk7XHJcbiAgICAgICAgaWYgKCRlbHNlaWYpIHtcclxuICAgICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudChleHByZXNzaW9uWzBdLCBwYXJlbnQpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZmluZEF0dHIoZXhwcmVzc2lvblswXSBhcyBLTm9kZS5FbGVtZW50LCBbXCJAZWxzZVwiXSkpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoZXhwcmVzc2lvblswXSwgcGFyZW50KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZG9FYWNoKGVhY2g6IEtOb2RlLkF0dHJpYnV0ZSwgbm9kZTogS05vZGUuRWxlbWVudCwgcGFyZW50OiBOb2RlKSB7XHJcbiAgICBjb25zdCB0b2tlbnMgPSB0aGlzLnNjYW5uZXIuc2NhbigoZWFjaCBhcyBLTm9kZS5BdHRyaWJ1dGUpLnZhbHVlKTtcclxuICAgIGNvbnN0IFtuYW1lLCBrZXksIGl0ZXJhYmxlXSA9IHRoaXMuaW50ZXJwcmV0ZXIuZXZhbHVhdGUoXHJcbiAgICAgIHRoaXMucGFyc2VyLmZvcmVhY2godG9rZW5zKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IG9yaWdpbmFsU2NvcGUgPSB0aGlzLmludGVycHJldGVyLnNjb3BlO1xyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVyYWJsZSkge1xyXG4gICAgICBjb25zdCBzY29wZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHsgW25hbWVdOiBpdGVtIH07XHJcbiAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICBzY29wZVtrZXldID0gaW5kZXg7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbnRlcnByZXRlci5zY29wZSA9IG5ldyBTY29wZShvcmlnaW5hbFNjb3BlLCBzY29wZSk7XHJcbiAgICAgIHRoaXMuY3JlYXRlRWxlbWVudChub2RlLCBwYXJlbnQpO1xyXG4gICAgICBpbmRleCArPSAxO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnRlcnByZXRlci5zY29wZSA9IG9yaWdpbmFsU2NvcGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRvV2hpbGUoJHdoaWxlOiBLTm9kZS5BdHRyaWJ1dGUsIG5vZGU6IEtOb2RlLkVsZW1lbnQsIHBhcmVudDogTm9kZSkge1xyXG4gICAgY29uc3Qgb3JpZ2luYWxTY29wZSA9IHRoaXMuaW50ZXJwcmV0ZXIuc2NvcGU7XHJcbiAgICB0aGlzLmludGVycHJldGVyLnNjb3BlID0gbmV3IFNjb3BlKG9yaWdpbmFsU2NvcGUpO1xyXG4gICAgd2hpbGUgKHRoaXMuZXhlY3V0ZSgkd2hpbGUudmFsdWUpKSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlRWxlbWVudChub2RlLCBwYXJlbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnRlcnByZXRlci5zY29wZSA9IG9yaWdpbmFsU2NvcGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRvSW5pdChpbml0OiBLTm9kZS5BdHRyaWJ1dGUsIG5vZGU6IEtOb2RlLkVsZW1lbnQsIHBhcmVudDogTm9kZSkge1xyXG4gICAgY29uc3Qgb3JpZ2luYWxTY29wZSA9IHRoaXMuaW50ZXJwcmV0ZXIuc2NvcGU7XHJcbiAgICB0aGlzLmludGVycHJldGVyLnNjb3BlID0gbmV3IFNjb3BlKG9yaWdpbmFsU2NvcGUpO1xyXG4gICAgdGhpcy5leGVjdXRlKGluaXQudmFsdWUpO1xyXG4gICAgdGhpcy5jcmVhdGVFbGVtZW50KG5vZGUsIHBhcmVudCk7XHJcbiAgICB0aGlzLmludGVycHJldGVyLnNjb3BlID0gb3JpZ2luYWxTY29wZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlU2libGluZ3Mobm9kZXM6IEtOb2RlLktOb2RlW10sIHBhcmVudD86IE5vZGUpOiB2b2lkIHtcclxuICAgIGxldCBjdXJyZW50ID0gMDtcclxuICAgIHdoaWxlIChjdXJyZW50IDwgbm9kZXMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tjdXJyZW50KytdO1xyXG4gICAgICBpZiAobm9kZS50eXBlID09PSBcImVsZW1lbnRcIikge1xyXG4gICAgICAgIGNvbnN0ICRlYWNoID0gdGhpcy5maW5kQXR0cihub2RlIGFzIEtOb2RlLkVsZW1lbnQsIFtcIkBlYWNoXCJdKTtcclxuICAgICAgICBpZiAoJGVhY2gpIHtcclxuICAgICAgICAgIHRoaXMuZG9FYWNoKCRlYWNoLCBub2RlIGFzIEtOb2RlLkVsZW1lbnQsIHBhcmVudCk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0ICRpZiA9IHRoaXMuZmluZEF0dHIobm9kZSBhcyBLTm9kZS5FbGVtZW50LCBbXCJAaWZcIl0pO1xyXG4gICAgICAgIGlmICgkaWYpIHtcclxuICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25zOiBJZkVsc2VOb2RlW10gPSBbW25vZGUgYXMgS05vZGUuRWxlbWVudCwgJGlmXV07XHJcbiAgICAgICAgICBjb25zdCB0YWcgPSAobm9kZSBhcyBLTm9kZS5FbGVtZW50KS5uYW1lO1xyXG4gICAgICAgICAgbGV0IGZvdW5kID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB3aGlsZSAoZm91bmQpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPj0gbm9kZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuZmluZEF0dHIobm9kZXNbY3VycmVudF0gYXMgS05vZGUuRWxlbWVudCwgW1xyXG4gICAgICAgICAgICAgIFwiQGVsc2VcIixcclxuICAgICAgICAgICAgICBcIkBlbHNlaWZcIixcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIGlmICgobm9kZXNbY3VycmVudF0gYXMgS05vZGUuRWxlbWVudCkubmFtZSA9PT0gdGFnICYmIGF0dHIpIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKFtub2Rlc1tjdXJyZW50XSBhcyBLTm9kZS5FbGVtZW50LCBhdHRyXSk7XHJcbiAgICAgICAgICAgICAgY3VycmVudCArPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLmRvSWYoZXhwcmVzc2lvbnMsIHBhcmVudCk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0ICR3aGlsZSA9IHRoaXMuZmluZEF0dHIobm9kZSBhcyBLTm9kZS5FbGVtZW50LCBbXCJAd2hpbGVcIl0pO1xyXG4gICAgICAgIGlmICgkd2hpbGUpIHtcclxuICAgICAgICAgIHRoaXMuZG9XaGlsZSgkd2hpbGUsIG5vZGUgYXMgS05vZGUuRWxlbWVudCwgcGFyZW50KTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgJGluaXQgPSB0aGlzLmZpbmRBdHRyKG5vZGUgYXMgS05vZGUuRWxlbWVudCwgW1wiQGluaXRcIl0pO1xyXG4gICAgICAgIGlmICgkaW5pdCkge1xyXG4gICAgICAgICAgdGhpcy5kb0luaXQoJGluaXQsIG5vZGUgYXMgS05vZGUuRWxlbWVudCwgcGFyZW50KTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmV2YWx1YXRlKG5vZGUsIHBhcmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUVsZW1lbnQobm9kZTogS05vZGUuRWxlbWVudCwgcGFyZW50PzogTm9kZSk6IHZvaWQge1xyXG4gICAgY29uc3QgaXNUZW1wbGF0ZSA9IG5vZGUubmFtZSA9PT0gXCJrdm9pZFwiO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGlzVGVtcGxhdGUgPyBwYXJlbnQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGUubmFtZSk7XHJcblxyXG4gICAgaWYgKCFpc1RlbXBsYXRlKSB7XHJcbiAgICAgIC8vIGV2ZW50IGJpbmRpbmdcclxuICAgICAgY29uc3QgZXZlbnRzID0gbm9kZS5hdHRyaWJ1dGVzLmZpbHRlcigoYXR0cikgPT5cclxuICAgICAgICAoYXR0ciBhcyBLTm9kZS5BdHRyaWJ1dGUpLm5hbWUuc3RhcnRzV2l0aChcIkBvbjpcIilcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVFdmVudExpc3RlbmVyKGVsZW1lbnQsIGV2ZW50IGFzIEtOb2RlLkF0dHJpYnV0ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gYXR0cmlidXRlc1xyXG4gICAgICBub2RlLmF0dHJpYnV0ZXNcclxuICAgICAgICAuZmlsdGVyKChhdHRyKSA9PiAhKGF0dHIgYXMgS05vZGUuQXR0cmlidXRlKS5uYW1lLnN0YXJ0c1dpdGgoXCJAXCIpKVxyXG4gICAgICAgIC5tYXAoKGF0dHIpID0+IHRoaXMuZXZhbHVhdGUoYXR0ciwgZWxlbWVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlLnNlbGYpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlU2libGluZ3Mobm9kZS5jaGlsZHJlbiwgZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKCFpc1RlbXBsYXRlICYmIHBhcmVudCkge1xyXG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUV2ZW50TGlzdGVuZXIoZWxlbWVudDogTm9kZSwgYXR0cjogS05vZGUuQXR0cmlidXRlKTogdm9pZCB7XHJcbiAgICBjb25zdCB0eXBlID0gYXR0ci5uYW1lLnNwbGl0KFwiOlwiKVsxXTtcclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZXhlY3V0ZShhdHRyLnZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0ZW1wbGF0ZVBhcnNlKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHRva2VucyA9IHRoaXMuc2Nhbm5lci5zY2FuKHNvdXJjZSk7XHJcbiAgICBjb25zdCBleHByZXNzaW9ucyA9IHRoaXMucGFyc2VyLnBhcnNlKHRva2Vucyk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyc2VyLmVycm9ycy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lcnJvcihgVGVtcGxhdGUgc3RyaW5nICBlcnJvcjogJHt0aGlzLnBhcnNlci5lcnJvcnNbMF19YCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICBmb3IgKGNvbnN0IGV4cHJlc3Npb24gb2YgZXhwcmVzc2lvbnMpIHtcclxuICAgICAgcmVzdWx0ICs9IGAke3RoaXMuaW50ZXJwcmV0ZXIuZXZhbHVhdGUoZXhwcmVzc2lvbil9YDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXREb2N0eXBlS05vZGUobm9kZTogS05vZGUuRG9jdHlwZSk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gICAgLy8gcmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50VHlwZShcImh0bWxcIiwgXCJcIiwgXCJcIik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZXJyb3IobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgRXJyb3IgPT4gJHttZXNzYWdlfWApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUZW1wbGF0ZVBhcnNlciB9IGZyb20gXCIuL3RlbXBsYXRlLXBhcnNlclwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvblBhcnNlciB9IGZyb20gXCIuL2V4cHJlc3Npb24tcGFyc2VyXCI7XG5pbXBvcnQgeyBJbnRlcnByZXRlciB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBUcmFuc3BpbGVyIH0gZnJvbSBcIi4vdHJhbnNwaWxlclwiO1xuaW1wb3J0IHsgRGVtb0pzb24sIERlbW9Tb3VyY2UgfSBmcm9tIFwiLi90eXBlcy9kZW1vXCI7XG5pbXBvcnQgeyBWaWV3ZXIgfSBmcm9tIFwiLi92aWV3ZXJcIjtcbmltcG9ydCB7IFNjYW5uZXIgfSBmcm9tIFwiLi9zY2FubmVyXCI7XG5cbmZ1bmN0aW9uIGV4ZWN1dGUoc291cmNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgVGVtcGxhdGVQYXJzZXIoKTtcbiAgY29uc3Qgbm9kZXMgPSBwYXJzZXIucGFyc2Uoc291cmNlKTtcbiAgaWYgKHBhcnNlci5lcnJvcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBhcnNlci5lcnJvcnMpO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KG5vZGVzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdHJhbnNwaWxlKHNvdXJjZTogc3RyaW5nLCBlbnRyaWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IE5vZGUge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgVGVtcGxhdGVQYXJzZXIoKTtcbiAgY29uc3Qgbm9kZXMgPSBwYXJzZXIucGFyc2Uoc291cmNlKTtcbiAgY29uc3QgdHJhbnNwaWxlciA9IG5ldyBUcmFuc3BpbGVyKCk7XG4gIGNvbnN0IHJlc3VsdCA9IHRyYW5zcGlsZXIudHJhbnNwaWxlKG5vZGVzLCBlbnRyaWVzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgKCh3aW5kb3cgYXMgYW55KSB8fCB7fSkua2FzcGVyID0ge1xuICAgIGRlbW9Kc29uOiBEZW1vSnNvbixcbiAgICBkZW1vU291cmNlQ29kZTogRGVtb1NvdXJjZSxcbiAgICBleGVjdXRlLFxuICAgIHRyYW5zcGlsZSxcbiAgfTtcbn0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgZXhwb3J0cy5rYXNwZXIgPSB7XG4gICAgRXhwcmVzc2lvblBhcnNlcixcbiAgICBJbnRlcnByZXRlcixcbiAgICBTY2FubmVyLFxuICAgIFRlbXBsYXRlUGFyc2VyLFxuICAgIFRyYW5zcGlsZXIsXG4gICAgVmlld2VyLFxuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IERlbW9Tb3VyY2UgPSBgXG48IS0tIGFjY2Vzc2luZyBzY29wZSBlbGVtZW50cyAtLT5cbjxoMz57e3BlcnNvbi5uYW1lfX08L2gzPlxuPGg0Pnt7cGVyc29uLnByb2Zlc3Npb259fTwvaDQ+XG5cbjwhLS0gY29uZGl0aW9uYWwgZWxlbWVudCBjcmVhdGlvbiAtLT5cbjxwIEBpZj1cInBlcnNvbi5hZ2UgPiAyMVwiPkFnZSBpcyBncmVhdGVyIHRoYW4gMjE8L3A+XG48cCBAZWxzZWlmPVwicGVyc29uLmFnZSA9PSAyMVwiPkFnZSBpcyBlcXVhbCB0byAyMTwvcD5cbjxwIEBlbHNlaWY9XCJwZXJzb24uYWdlIDwgMjFcIj5BZ2UgaXMgbGVzcyB0aGFuIDIxPC9wPlxuPHAgQGVsc2U+QWdlIGlzIGltcG9zc2libGU8L3A+XG5cbjwhLS0gaXRlcmF0aW5nIG92ZXIgYXJyYXlzIC0tPlxuPGg0PkhvYmJpZXMgKHt7cGVyc29uLmhvYmJpZXMubGVuZ3RofX0pOjwvaDQ+XG48dWwgY2xhc3M9XCJsaXN0LWRpc2NcIj5cbiAgPGxpIEBlYWNoPVwiY29uc3QgaG9iYnkgd2l0aCBpbmRleCBvZiBwZXJzb24uaG9iYmllc1wiIGNsYXNzPVwidGV4dC1yZWRcIj5cbiAgICB7e2luZGV4ICsgMX19OiB7e2hvYmJ5fX1cbiAgPC9saT5cbjwvdWw+XG5cbjwhLS0gZXZlbnQgYmluZGluZyAtLT5cbjxkaXYgY2xhc3M9XCJteS00XCI+XG4gIDxidXR0b25cbiAgICBjbGFzcz1cImJnLWJsdWUtNTAwIHJvdW5kZWQgcHgtNCBweS0yIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS03MDBcIlxuICAgIEBvbjpjbGljaz1cImFsZXJ0KCdIZWxsbyBXb3JsZCcpOyBjb25zb2xlLmxvZygxMDAgLyAyLjUgKyAxNSlcIlxuICA+XG4gICAgQ0xJQ0sgTUVcbiAgPC9idXR0b24+XG48L2Rpdj5cblxuPCEtLSBldmFsdWF0aW5nIGNvZGUgb24gZWxlbWVudCBjcmVhdGlvbiAtLT5cbjxkaXYgQGluaXQ9XCJzdHVkZW50ID0ge25hbWU6IHBlcnNvbi5uYW1lLCBkZWdyZWU6ICdNYXN0ZXJzJ307IGNvbnNvbGUubG9nKHN0dWRlbnQubmFtZSlcIj5cbiAgICB7e3N0dWRlbnQubmFtZX19XG48L2Rpdj5cblxuPCEtLSBmb3JlYWNoIGxvb3Agd2l0aCBvYmplY3RzIC0tPlxuPHNwYW4gQGVhY2g9XCJjb25zdCBpdGVtIG9mIE9iamVjdC5lbnRyaWVzKHthOiAxLCBiOiAyLCBjOiAzIH0pXCI+XG4gIHt7aXRlbVswXX19Ont7aXRlbVsxXX19LFxuPC9zcGFuPlxuXG48IS0tIHdoaWxlIGxvb3AgLS0+XG48c3BhbiBAaW5pdD1cImluZGV4ID0gMFwiPlxuICAgPHNwYW4gQHdoaWxlPVwiaW5kZXggPCAzXCI+XG4gICAgIHt7aW5kZXggPSBpbmRleCArIDF9fSxcbiAgIDwvc3Bhbj5cbjwvc3Bhbj5cblxuPCEtLSB2b2lkIGVsZW1lbnRzIC0tPlxuPGRpdj5cbiAgPGt2b2lkIEBpbml0PVwiaW5kZXggPSAwXCI+XG4gICAgPGt2b2lkIEB3aGlsZT1cImluZGV4IDwgM1wiPlxuICAgICAge3tpbmRleCA9IGluZGV4ICsgMX19XG4gICAgPC9rdm9pZD5cbiAgPC9rdm9pZD5cbjwvZGl2PlxuXG48IS0tIGNvbXBsZXggZXhwcmVzc2lvbnMgLS0+XG57e01hdGguZmxvb3IoTWF0aC5zcXJ0KDEwMCArIDIwIC8gKDEwICogKE1hdGguYWJzKDEwIC0yMCkpICsgNCkpKX19XG5cbjwhLS0gdm9pZCBleHByZXNzaW9uIC0tPlxue3t2b2lkIFwidGhpcyB3b24ndCBiZSBzaG93blwifX1cblxuPCEtLSBsb2dnaW5nIC8gZGVidWdnaW5nICAtLT5cbnt7ZGVidWcgXCJleHByZXNzaW9uXCJ9fVxue3t2b2lkIGNvbnNvbGUubG9nKFwic2FtZSBhcyBwcmV2aW91cyBqdXN0IGxlc3Mgd29yZHlcIil9fVxuXG5gO1xuXG5leHBvcnQgY29uc3QgRGVtb0pzb24gPSBgXG57XG4gIFwicGVyc29uXCI6IHtcbiAgICBcIm5hbWVcIjogXCJKb2huIERvZVwiLFxuICAgIFwicHJvZmVzc2lvblwiOiBcIlNvZnR3YXJlIERldmVsb3BlclwiLFxuICAgIFwiYWdlXCI6IDIwLFxuICAgIFwiaG9iYmllc1wiOiBbXCJyZWFkaW5nXCIsIFwibXVzaWNcIiwgXCJnb2xmXCJdXG4gIH1cbn1cbmA7XG4iLCJpbXBvcnQgKiBhcyBLTm9kZSBmcm9tIFwiLi90eXBlcy9ub2Rlc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdlciBpbXBsZW1lbnRzIEtOb2RlLktOb2RlVmlzaXRvcjxzdHJpbmc+IHtcclxuICBwdWJsaWMgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBwcml2YXRlIGV2YWx1YXRlKG5vZGU6IEtOb2RlLktOb2RlKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBub2RlLmFjY2VwdCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0cmFuc3BpbGUobm9kZXM6IEtOb2RlLktOb2RlW10pOiBzdHJpbmdbXSB7XHJcbiAgICB0aGlzLmVycm9ycyA9IFtdO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXN1bHQucHVzaCh0aGlzLmV2YWx1YXRlKG5vZGUpKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZX1gKTtcclxuICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGAke2V9YCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JzLmxlbmd0aCA+IDEwMCkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChcIkVycm9yIGxpbWl0IGV4Y2VlZGVkXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXRFbGVtZW50S05vZGUobm9kZTogS05vZGUuRWxlbWVudCk6IHN0cmluZyB7XHJcbiAgICBsZXQgYXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMubWFwKChhdHRyKSA9PiB0aGlzLmV2YWx1YXRlKGF0dHIpKS5qb2luKFwiIFwiKTtcclxuICAgIGlmIChhdHRycy5sZW5ndGgpIHtcclxuICAgICAgYXR0cnMgPSBcIiBcIiArIGF0dHJzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlLnNlbGYpIHtcclxuICAgICAgcmV0dXJuIGA8JHtub2RlLm5hbWV9JHthdHRyc30vPmA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLm1hcCgoZWxtKSA9PiB0aGlzLmV2YWx1YXRlKGVsbSkpLmpvaW4oXCJcIik7XHJcbiAgICByZXR1cm4gYDwke25vZGUubmFtZX0ke2F0dHJzfT4ke2NoaWxkcmVufTwvJHtub2RlLm5hbWV9PmA7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmlzaXRBdHRyaWJ1dGVLTm9kZShub2RlOiBLTm9kZS5BdHRyaWJ1dGUpOiBzdHJpbmcge1xyXG4gICAgaWYgKG5vZGUudmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGAke25vZGUubmFtZX09XCIke25vZGUudmFsdWV9XCJgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vZGUubmFtZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB2aXNpdFRleHRLTm9kZShub2RlOiBLTm9kZS5UZXh0KTogc3RyaW5nIHtcclxuICAgIHJldHVybiBub2RlLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHZpc2l0Q29tbWVudEtOb2RlKG5vZGU6IEtOb2RlLkNvbW1lbnQpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8IS0tICR7bm9kZS52YWx1ZX0gLS0+YDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB2aXNpdERvY3R5cGVLTm9kZShub2RlOiBLTm9kZS5Eb2N0eXBlKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgPCFkb2N0eXBlICR7bm9kZS52YWx1ZX0+YDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgUnVudGltZSBFcnJvciA9PiAke21lc3NhZ2V9YCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJLYXNwZXJFcnJvciIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJsaW5lIiwiY29sIiwidGhpcyIsInRvU3RyaW5nIiwiS05vZGUiLCJFbGVtZW50IiwibmFtZSIsImF0dHJpYnV0ZXMiLCJjaGlsZHJlbiIsInNlbGYiLCJzdXBlciIsInR5cGUiLCJhY2NlcHQiLCJ2aXNpdG9yIiwicGFyZW50IiwidmlzaXRFbGVtZW50S05vZGUiLCJBdHRyaWJ1dGUiLCJ2aXNpdEF0dHJpYnV0ZUtOb2RlIiwiVGV4dCIsInZpc2l0VGV4dEtOb2RlIiwidmlzaXRDb21tZW50S05vZGUiLCJEb2N0eXBlIiwidmlzaXREb2N0eXBlS05vZGUiLCJUb2tlblR5cGUiLCJUb2tlbiIsImxleGVtZSIsImxpdGVyYWwiLCJXaGl0ZVNwYWNlcyIsIlNlbGZDbG9zaW5nVGFncyIsIlRlbXBsYXRlUGFyc2VyIiwicGFyc2UiLCJzb3VyY2UiLCJjdXJyZW50IiwiZXJyb3JzIiwibm9kZXMiLCJlb2YiLCJub2RlIiwicHVzaCIsImUiLCJsZW5ndGgiLCJtYXRjaCIsImNoYXJzIiwiY2hhciIsImNoZWNrIiwiYWR2YW5jZSIsImVvZkVycm9yIiwiZXJyb3IiLCJwZWVrIiwic2xpY2UiLCJtZXNzYWdlIiwid2hpdGVzcGFjZSIsImNvbW1lbnQiLCJkb2N0eXBlIiwiZWxlbWVudCIsInRleHQiLCJzdGFydCIsInRyaW0iLCJpZGVudGlmaWVyIiwiaW5jbHVkZXMiLCJjbG9zZSIsInN0cmluZyIsImNvdW50IiwiY2xvc2luZyIsImVuZCIsIkV4cHIiLCJBc3NpZ24iLCJ2aXNpdEFzc2lnbkV4cHIiLCJCaW5hcnkiLCJsZWZ0Iiwib3BlcmF0b3IiLCJyaWdodCIsInZpc2l0QmluYXJ5RXhwciIsIkNhbGwiLCJjYWxsZWUiLCJwYXJlbiIsImFyZ3MiLCJ2aXNpdENhbGxFeHByIiwiRGVidWciLCJ2aXNpdERlYnVnRXhwciIsIkRpY3Rpb25hcnkiLCJwcm9wZXJ0aWVzIiwidmlzaXREaWN0aW9uYXJ5RXhwciIsIkVhY2giLCJrZXkiLCJpdGVyYWJsZSIsInZpc2l0RWFjaEV4cHIiLCJHZXQiLCJlbnRpdHkiLCJ2aXNpdEdldEV4cHIiLCJHcm91cGluZyIsImV4cHJlc3Npb24iLCJ2aXNpdEdyb3VwaW5nRXhwciIsIktleSIsInZpc2l0S2V5RXhwciIsIkxvZ2ljYWwiLCJ2aXNpdExvZ2ljYWxFeHByIiwiTGlzdCIsInZpc2l0TGlzdEV4cHIiLCJMaXRlcmFsIiwidmlzaXRMaXRlcmFsRXhwciIsIk5ldyIsImNsYXp6IiwidmlzaXROZXdFeHByIiwiTnVsbENvYWxlc2NpbmciLCJ2aXNpdE51bGxDb2FsZXNjaW5nRXhwciIsIlBvc3RmaXgiLCJpbmNyZW1lbnQiLCJ2aXNpdFBvc3RmaXhFeHByIiwiU2V0IiwidmlzaXRTZXRFeHByIiwiVGVtcGxhdGUiLCJ2aXNpdFRlbXBsYXRlRXhwciIsIlRlcm5hcnkiLCJjb25kaXRpb24iLCJ0aGVuRXhwciIsImVsc2VFeHByIiwidmlzaXRUZXJuYXJ5RXhwciIsIlR5cGVvZiIsInZpc2l0VHlwZW9mRXhwciIsIlVuYXJ5IiwidmlzaXRVbmFyeUV4cHIiLCJWYXJpYWJsZSIsInZpc2l0VmFyaWFibGVFeHByIiwiVm9pZCIsInZpc2l0Vm9pZEV4cHIiLCJFeHByZXNzaW9uUGFyc2VyIiwiZXJyb3JMZXZlbCIsInRva2VucyIsImV4cHJlc3Npb25zIiwic3luY2hyb25pemUiLCJ0eXBlcyIsInByZXZpb3VzIiwiRW9mIiwiY29uc3VtZSIsInRva2VuIiwiU2VtaWNvbG9uIiwiUmlnaHRCcmFjZSIsImZvcmVhY2giLCJDb25zdCIsIklkZW50aWZpZXIiLCJXaXRoIiwiT2YiLCJhc3NpZ25tZW50IiwiZXhwciIsInRlcm5hcnkiLCJFcXVhbCIsIlBsdXNFcXVhbCIsIk1pbnVzRXF1YWwiLCJTdGFyRXF1YWwiLCJTbGFzaEVxdWFsIiwibnVsbENvYWxlc2NpbmciLCJRdWVzdGlvbiIsIkNvbG9uIiwibG9naWNhbE9yIiwiUXVlc3Rpb25RdWVzdGlvbiIsInJpZ2h0RXhwciIsImxvZ2ljYWxBbmQiLCJPciIsImVxdWFsaXR5IiwiQW5kIiwiYWRkaXRpb24iLCJCYW5nRXF1YWwiLCJFcXVhbEVxdWFsIiwiR3JlYXRlciIsIkdyZWF0ZXJFcXVhbCIsIkxlc3MiLCJMZXNzRXF1YWwiLCJtb2R1bHVzIiwiTWludXMiLCJQbHVzIiwibXVsdGlwbGljYXRpb24iLCJQZXJjZW50IiwidHlwZW9mIiwiU2xhc2giLCJTdGFyIiwidW5hcnkiLCJCYW5nIiwiRG9sbGFyIiwiUGx1c1BsdXMiLCJNaW51c01pbnVzIiwibmV3S2V5d29yZCIsImtleXdvcmQiLCJjb25zdHJ1Y3QiLCJjYWxsIiwicHJpbWFyeSIsImNvbnN1bWVkIiwiTGVmdFBhcmVuIiwiUmlnaHRQYXJlbiIsIkNvbW1hIiwiRG90IiwiUXVlc3Rpb25Eb3QiLCJkb3RHZXQiLCJMZWZ0QnJhY2tldCIsImJyYWNrZXRHZXQiLCJSaWdodEJyYWNrZXQiLCJGYWxzZSIsIlRydWUiLCJOdWxsIiwiVW5kZWZpbmVkIiwidW5kZWZpbmVkIiwiTnVtYmVyIiwiU3RyaW5nIiwiTGVmdEJyYWNlIiwiZGljdGlvbmFyeSIsImxpc3QiLCJsZWZ0QnJhY2UiLCJ2YWx1ZXMiLCJsZWZ0QnJhY2tldCIsImlzRGlnaXQiLCJpc0FscGhhIiwiU2Nhbm5lciIsInNjYW4iLCJnZXRUb2tlbiIsImNoYXJBdCIsImFkZFRva2VuIiwidG9rZW5UeXBlIiwic3Vic3RyaW5nIiwiZXhwZWN0ZWQiLCJwZWVrTmV4dCIsIm11bHRpbGluZUNvbW1lbnQiLCJxdW90ZSIsIm51bWJlciIsInRvTG93ZXJDYXNlIiwiY2FwaXRhbGl6ZWQiLCJ3b3JkIiwidG9VcHBlckNhc2UiLCJDYXJldCIsIkhhc2giLCJBcnJvdyIsIlBlcmNlbnRFcXVhbCIsIlBpcGUiLCJBbXBlcnNhbmQiLCJMZXNzRXF1YWxHcmVhdGVyIiwiRG90RG90RG90IiwiRG90RG90IiwiRXJyb3IiLCJTY29wZSIsImVudHJpZXMiLCJpbml0IiwiTWFwIiwiT2JqZWN0Iiwic2V0IiwiZ2V0IiwiaGFzIiwid2luZG93IiwiSW50ZXJwcmV0ZXIiLCJzY29wZSIsInNjYW5uZXIiLCJwYXJzZXIiLCJldmFsdWF0ZSIsInJlc3VsdCIsIm5ld1ZhbHVlIiwidGVtcGxhdGVQYXJzZSIsInJlcGxhY2UiLCJtIiwicGxhY2Vob2xkZXIiLCJpc1RydXRoeSIsImFzc2lnbiIsImFyZ3VtZW50IiwiYXBwbHkiLCJuZXdDYWxsIiwiYXJnIiwiZGljdCIsInByb3BlcnR5IiwiY29uc29sZSIsImxvZyIsIlRyYW5zcGlsZXIiLCJpbnRlcnByZXRlciIsImV4ZWN1dGUiLCJtYXAiLCJ0cmFuc3BpbGUiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVTaWJsaW5ncyIsInRlc3QiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiYXR0ciIsImNyZWF0ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5vZGUiLCJDb21tZW50IiwiZmluZEF0dHIiLCJmaW5kIiwiZG9JZiIsImRvRWFjaCIsImVhY2giLCJvcmlnaW5hbFNjb3BlIiwiaW5kZXgiLCJpdGVtIiwiZG9XaGlsZSIsIiR3aGlsZSIsImRvSW5pdCIsIiRlYWNoIiwiJGlmIiwidGFnIiwiZm91bmQiLCIkaW5pdCIsImlzVGVtcGxhdGUiLCJldmVudHMiLCJmaWx0ZXIiLCJzdGFydHNXaXRoIiwiZXZlbnQiLCJjcmVhdGVFdmVudExpc3RlbmVyIiwic3BsaXQiLCJhZGRFdmVudExpc3RlbmVyIiwia2FzcGVyIiwiZGVtb0pzb24iLCJkZW1vU291cmNlQ29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJleHBvcnRzIiwiVmlld2VyIiwiYXR0cnMiLCJqb2luIiwiZWxtIl0sInNvdXJjZVJvb3QiOiIifQ==